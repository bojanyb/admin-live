(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25f2a792"],{"2de4":function(t,n,e){},"40c9":function(t,n,e){},"52d5":function(t,n,e){"use strict";e("40c9")},7341:function(t,n,e){"use strict";e("2de4")},"87e0":function(t,n,e){},"9ed6":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"login-container"},[e("div",{staticClass:"animationBox"},t._l(t.animationArr,(function(t){return e("div",{class:"animationClass"+t})})),0),e("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,autocomplete:"on","label-position":"left"}},[e("div",{staticClass:"title-container"},[e("h3",{staticClass:"title"},[t._v("直播管理平台")])]),e("el-form-item",{attrs:{prop:"account"}},[e("span",{staticClass:"svg-container"},[e("svg-icon",{attrs:{"icon-class":"user"}})],1),e("el-input",{ref:"account",attrs:{placeholder:"请输入账户",name:"account",type:"text",tabindex:"1",autocomplete:"on"},model:{value:t.loginForm.account,callback:function(n){t.$set(t.loginForm,"account",n)},expression:"loginForm.account"}})],1),e("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:t.capsTooltip,callback:function(n){t.capsTooltip=n},expression:"capsTooltip"}},[e("el-form-item",{attrs:{prop:"password"}},[e("span",{staticClass:"svg-container"},[e("svg-icon",{attrs:{"icon-class":"password"}})],1),e("el-input",{key:t.passwordType,ref:"password",attrs:{type:t.passwordType,placeholder:"请输入密码",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(n){t.capsTooltip=!1}},nativeOn:{keyup:[function(n){return t.checkCapslock(n)},function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.handleLogin(n)}]},model:{value:t.loginForm.password,callback:function(n){t.$set(t.loginForm,"password",n)},expression:"loginForm.password"}}),e("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[e("svg-icon",{attrs:{"icon-class":"password"===t.passwordType?"eye":"eye-open"}})],1)],1)],1),e("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),t.handleLogin(n)}}},[t._v("登录")])],1)],1)},o=[],a=(e("d9e2"),e("99af"),e("b64b"),e("e9c4"),e("d3b7"),e("159b"),e("a434"),e("14d9"),e("7db0"),e("13d5"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"social-signup-container"},[e("div",{staticClass:"sign-btn",on:{click:function(n){return t.wechatHandleClick("wechat")}}},[e("span",{staticClass:"wx-svg-container"},[e("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),t._v(" WeChat ")]),e("div",{staticClass:"sign-btn",on:{click:function(n){return t.tencentHandleClick("tencent")}}},[e("span",{staticClass:"qq-svg-container"},[e("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),t._v(" QQ ")])])}),s=[],c={name:"SocialSignin",methods:{wechatHandleClick:function(t){alert("ok")},tencentHandleClick:function(t){alert("ok")}}},r=c,l=(e("bfec"),e("2877")),u=Object(l["a"])(r,a,s,!1,null,"7309fbbb",null),d=u.exports,h={name:"Login",components:{SocialSign:d},data:function(){var t=function(t,n,e){n?e():e(new Error("账户不能为空"))},n=function(t,n,e){n?e():e(new Error("密码不能为空"))};return{loginForm:{account:"",password:""},loginRules:{account:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:n}]},passwordType:"password",capsTooltip:!1,loading:!1,redirect:void 0,otherQuery:{},animationArr:[1,2,3,4,5,6,7,8,9]}},watch:{$route:{handler:function(t){var n=t.query;n&&(this.redirect=n.redirect,this.otherQuery=this.getOtherQuery(n))},immediate:!0}},created:function(){var t=[{name:"111"}],n=[{name:"222"}];console.log(t.concat(n),"arr3")},mounted:function(){""===this.loginForm.account?this.$refs.account.focus():""===this.loginForm.password&&this.$refs.password.focus()},destroyed:function(){},methods:{checkCapslock:function(t){var n=t.key;this.capsTooltip=n&&1===n.length&&n>="A"&&n<="Z"},showPwd:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){t.$refs.password.focus()}))},handleLogin:function(){var t=this;this.$refs.loginForm.validate((function(n){if(!n)return console.log("error submit!!"),!1;t.loading=!0,t.$store.dispatch("user/login",t.loginForm).then((function(n){t.$store.dispatch("user/editAdminFunc",n).then((function(n){var e=t.$route.query.redirect,i=JSON.parse(JSON.stringify(n.data.list)),o=n.data.user_pids,a=function t(n,e){n.forEach((function(n,a){-1!==o.indexOf(n.id)&&0!==n.status&&0!==n.is_menu||(0===n.pid?(i.splice(a,1),t(i)):e&&(e.child.splice(a,1),t(n.child,n))),n.child&&n.child.length>0&&t(n.child,n)}))};a(i);var s=function t(n,e){n.forEach((function(n,i){-1!==o.indexOf(n.id)&&0!==n.status&&0!==n.is_menu||e&&(e.child.splice(i,1),t(e.child,e)),n.child&&n.child.length>0&&t(n.child,n)}))};s(i);var c=[],r=function t(n,e){n.forEach((function(n,i){n.pid&&e&&(n.child&&n.child.length>0?n.path=e.h5_path+n.h5_path:n.path=e.h5_path+"/"+n.h5_path),n.child&&n.child.length>0&&(t(n.child,n),c.push(n))}))};r(c.length>0?c:i);var l=!1,u=function t(n){n.forEach((function(n){n.path&&n.path===e&&(l=!0),n.child&&n.child.length>0&&t(n.child,n)}))};if(u(c.length>0?c:i),l)t.$router.push({path:t.redirect||"/",query:t.otherQuery}),localStorage.setItem("jumpPath",t.redirect);else{var d=c.find((function(t){if(t.child.length>0){var n=t.child;if(n.length>0)return n[0].child.length>0?n[0].child[0].path:n[0].path}})),h=d.child[0].path;t.$router.push({path:h}),localStorage.setItem("jumpPath",h)}})),t.loading=!1})).catch((function(n){t.loading=!1})),t.loading=!1}))},getOtherQuery:function(t){return Object.keys(t).reduce((function(n,e){return"redirect"!==e&&(n[e]=t[e]),n}),{})},handleRegister:function(){this.$router.push({path:"/register"})}}},p=h,f=(e("52d5"),e("7341"),Object(l["a"])(p,i,o,!1,null,"3a6251c4",null));n["default"]=f.exports},bfec:function(t,n,e){"use strict";e("87e0")}}]);