(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd1ae62c"],{"07f6":function(e,t,a){},"127f":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("40bd"),r=a("7e8c"),o=(a("48d4"),a("8bda"),a("897d")),s=a.n(o),i=a("4109"),c={ossParams:{region:"oss-cn-shenzhen",success_action_status:"200",accessKeyId:"LTAI5tFTcRH7h3RXKoYmnWMk",accessKeySecret:"qdx4B8jIh2VjBgBDG5fNfG0Oj21GSP",bucket:"live-huidapay-net"}};function u(e){var t=e.name.split("."),a=s()(Date.now()+t[0]);return a=a+"."+t[t.length-1],a}function l(e){return new Promise(function(){var t=Object(r["a"])(Object(n["a"])().mark((function t(a,r){var o,s;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=u(e),s=new i({region:c.ossParams.region,accessKeyId:c.ossParams.accessKeyId,accessKeySecret:c.ossParams.accessKeySecret,bucket:c.ossParams.bucket}),t.next=4,s.multipartUpload(o,e);case 4:t.sent,a({url:"https://photo.aiyi.live/"+o});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())}},"1fe8":function(e,t,a){e.exports=a.p+"static/img/error.e53687be.png"},2708:function(e,t,a){"use strict";var n=a("4672"),r=a("52c1"),o={data:function(){return{tabIndex:"0",page:1,size:10,limit:10,searchParams:{},dataParams:{}}},computed:Object(n["a"])({},Object(r["c"])({permissionArr:function(e){return e.permission.permissionArr}})),mounted:function(){console.log(this.permissionArr,"permissionArr")}};t["a"]=o},"2dfe":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"finance-commercialComp-box"},[a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"610px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closed}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"85px"}},[a("div",{staticClass:"formBox"},[a("el-form-item",{attrs:{label:"商户平台",prop:"channel"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.channel,callback:function(t){e.$set(e.ruleForm,"channel",t)},expression:"ruleForm.channel"}},e._l(e.channelList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"主体名称",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),a("div",{staticClass:"formBox"},[a("el-form-item",{attrs:{label:"商户名称",prop:"merchant_name"}},[a("el-input",{model:{value:e.ruleForm.merchant_name,callback:function(t){e.$set(e.ruleForm,"merchant_name",t)},expression:"ruleForm.merchant_name"}})],1),a("el-form-item",{attrs:{label:"商户号",prop:"appid"}},[a("el-input",{model:{value:e.ruleForm.appid,callback:function(t){e.$set(e.ruleForm,"appid",t)},expression:"ruleForm.appid"}})],1)],1),a("el-form-item",{staticClass:"allocationBox",attrs:{label:"配置信息",prop:"config_json"}},[a("el-input",{attrs:{rows:6,type:"textarea"},model:{value:e.ruleForm.config_json,callback:function(t){e.$set(e.ruleForm,"config_json",t)},expression:"ruleForm.config_json"}})],1),e.ruleForm.channel&&e.ruleForm.appid?a("el-form-item",{staticClass:"allocationBox",attrs:{label:"签名文件",prop:"appid"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"#","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:5,"on-exceed":e.handleExceed,"file-list":e.fileList,"http-request":e.upLoad}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1):e._e(),a("div",{staticClass:"formBox"},["payment"===e.type?a("el-form-item",{attrs:{label:"payment"===e.type?"支付类型":"提现类型",prop:"channel_way"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:!e.ruleForm.channel},model:{value:e.ruleForm.channel_way,callback:function(t){e.$set(e.ruleForm,"channel_way",t)},expression:"ruleForm.channel_way"}},e._l(e.payList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1):e._e()],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},r=[],o=a("4672"),s=a("40bd"),i=a("7e8c"),c=(a("65c4"),a("96c5"),a("8bda"),a("5250"),a("48d4"),a("cd05")),u=(a("cf45"),a("40cb")),l=a("279a"),d=a("8daa"),m={props:{type:{type:String,default:""}},components:{uploadImg:u["a"]},data:function(){return{action:"//api.test.aiyi.live"+d["a"].pay.uploadFileZFB,status:"add",dialogVisible:!1,fileList:[],ruleForm:{channel:"",name:"",config_json:"",channel_way:null,type:1,merchant_name:"",file:""},rules:{name:[{required:!0,message:"请输入主体名称",trigger:"blur"}],channel:[{required:!0,message:"请选择商户平台",trigger:"change"}],channel_way:[{required:!0,message:"请选择支付类型",trigger:"change"}],merchant_name:[{required:!0,message:"请输入商户名称",trigger:"blur"}],appid:[{required:!0,message:"请输入商户号",trigger:"blur"}],config_json:[{required:!0,message:"请输入配置信息",trigger:"blur"}],file:[{required:!0,message:"请输入签名文件",trigger:"blur"}]}}},computed:{title:function(){return"add"===this.status?"商户配置新增":"update"===this.status?"商户配置修改":void 0},payList:function(){var e=JSON.parse(JSON.stringify(l["a"].PAYCONFIGURATIONPLATFORMTYPELIST));return 3===this.ruleForm.channel?e.filter((function(e,t){return t<4})):e},channelList:function(){return"payment"!==this.type?l["a"].DEPOSITCONFIGURATIONPLATFORMLIST:l["a"].PAYCONFIGURATIONPLATFORMLIST}},methods:{upLoad:function(e){var t=this;return Object(i["a"])(Object(s["a"])().mark((function a(){var n,r,o,i;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n="",2!=t.ruleForm.channel){a.next=10;break}if(""!=t.ruleForm.config_json){a.next=8;break}return t.$message.error("请先填写配置信息"),t.fileList=[],a.abrupt("return");case 8:r=JSON.parse(t.ruleForm.config_json),n=r.merchantId;case 10:return o=new FormData,o.append("file",e.file),o.append("appid",t.ruleForm.appid),o.append("channel",t.ruleForm.channel),""!==n&&2==t.ruleForm.channel&&o.append("merchantId",n),a.next=17,Object(c["s"])(o);case 17:i=a.sent,2e3===i.code&&(t.ruleForm.file="11",t.$refs.ruleForm.validateField(["file"]));case 19:case"end":return a.stop()}}),a)})))()},handleClose:function(){this.dialogVisible=!1},loadParams:function(e,t){if(this.status=e,this.dialogVisible=!0,"add"!==e){var a=JSON.parse(JSON.stringify(t));a.config_json=JSON.stringify(JSON.parse(a.config_json)),this.$set(this.$data,"ruleForm",a)}},submitForm:function(e){var t=this;return Object(i["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$refs[e].validate(function(){var e=Object(i["a"])(Object(s["a"])().mark((function e(a){var n,r;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return n=Object(o["a"])({},t.ruleForm),"payment"===t.type?n.purpose=1:(n.purpose=2,delete n.channel_way),e.next=5,Object(c["d"])(n);case 5:r=e.sent,2e3===r.code&&("add"===t.status?t.$success("新增成功"):t.$success("修改成功"),t.dialogVisible=!1,t.$emit("getList")),e.next=11;break;case 9:return console.log("error submit!!"),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()},resetForm:function(e){this.$refs[e].resetFields()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},closed:function(){this.$emit("destoryComp")}}},p=m,f=(a("a6a9"),a("e607")),h=Object(f["a"])(p,n,r,!1,null,null,null);t["a"]=h.exports},a6a9:function(e,t,a){"use strict";a("f5ca")},abd6:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"finance-deposit-list-box"},[a("div",{staticClass:"searchParams"},[a("SearchPanel",{attrs:{forms:e.forms,"show-reset":!0,"show-search-btn":!0,"show-add":!0},on:{onReset:e.reset,onSearch:e.onSearch,add:e.add},model:{value:e.searchParams,callback:function(t){e.searchParams=t},expression:"searchParams"}})],1),a("tableList",{ref:"tableList",attrs:{cfgs:e.cfgs}}),e.isDestoryComp?a("commercialComp",{ref:"commercialComp",attrs:{type:"deposit"},on:{destoryComp:e.destoryComp,getList:e.getList}}):e._e()],1)},r=[],o=a("40bd"),s=a("7e8c"),i=a("4672"),c=(a("23dc"),a("8bda"),a("48d4"),a("6166"),a("cd05")),u=a("2dfe"),l=a("4053"),d=a("04a2"),m=a("2708"),p=a("8daa"),f=(a("cf45"),a("279a")),h={mixins:[m["a"]],components:{tableList:l["a"],SearchPanel:d["a"],commercialComp:u["a"]},data:function(){return{searchParams:{channel:0,channel_way:1},isDestoryComp:!1}},computed:{forms:function(){return[{name:"channel",type:"select",value:0,keyName:"value",optionLabel:"name",label:"商户平台",placeholder:"请选择",options:f["a"].DEPOSITCONFIGURATIONPLATFORMLIST}]},cfgs:function(){var e=this;return{vm:this,url:p["a"].pay.index,columns:[{label:"商户平台",render:function(e,t){var a=f["a"].DEPOSITCONFIGURATIONPLATFORMLIST.find((function(e){return e.value===t.row.channel}));return e("span",a?a.name:"无")}},{label:"主体名称",prop:"name"},{label:"商户名称",prop:"merchant_name"},{minWidth:"100px",label:"使用状态",prop:"cash_status",isSwitch:!0,isTrueValue:1,isFalseValue:0,activeText:"启用",inactiveText:"停用",change:function(t,a){e.payChannelWaySaveFunc(a.id,t)},render:function(e,t){return e("span","")}},{label:"操作",render:function(t,a){return t("div",[t("el-button",{props:{type:"primary"},on:{click:function(){e.update(a.row)}}},"修改")])}}]}}},methods:{getList:function(){this.$refs.tableList.getData()},beforeSearch:function(e){var t=Object(i["a"])({},this.searchParams);return{page:e.page,channel:t.channel,purpose:2}},reset:function(){this.searchParams={channel:0,channel_way:1},this.getList()},onSearch:function(){this.getList()},add:function(){this.load("add")},update:function(e){this.load("update",e)},load:function(e,t){var a=this;this.isDestoryComp=!0,setTimeout((function(){a.$refs.commercialComp.loadParams(e,t)}),50)},destoryComp:function(){this.isDestoryComp=!1},tabChange:function(e){this.searchParams.channel_way=Number(e)+1},payChannelWaySaveFunc:function(e,t){var a=this;return Object(s["a"])(Object(o["a"])().mark((function n(){var r,s;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={id:e,cash_status:t},n.next=3,Object(c["t"])(r);case 3:s=n.sent,2e3===s.code&&(a.$success("操作成功"),a.getList());case 5:case"end":return n.stop()}}),n)})))()}}},b=h,g=(a("b09b"),a("e607")),y=Object(g["a"])(b,n,r,!1,null,null,null);t["default"]=y.exports},b09b:function(e,t,a){"use strict";a("07f6")},cd05:function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"g",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"s",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"n",(function(){return l})),a.d(t,"t",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"j",(function(){return p})),a.d(t,"r",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"k",(function(){return b})),a.d(t,"u",(function(){return g})),a.d(t,"o",(function(){return y})),a.d(t,"m",(function(){return v})),a.d(t,"l",(function(){return O})),a.d(t,"i",(function(){return j})),a.d(t,"q",(function(){return F})),a.d(t,"c",(function(){return w})),a.d(t,"p",(function(){return C})),a.d(t,"h",(function(){return _}));var n=a("829b"),r=a("8daa");function o(e){return Object(n["a"])({url:r["a"].CashHisity.doCash,method:"post",data:e})}function s(e){return Object(n["a"])({url:r["a"].CashHisity.apply,method:"post",data:e})}function i(e){return Object(n["a"])({url:r["a"].CashHisity.batchCash,method:"post",data:e})}function c(e){return Object(n["a"])({url:r["a"].pay.uploadFile,method:"post",data:e})}function u(e){return Object(n["a"])({url:r["a"].pay.create,method:"post",data:e})}function l(e){return Object(n["a"])({url:r["a"].pay.payChannelWaySave,method:"post",data:e})}function d(e){return Object(n["a"])({url:r["a"].pay.useCash,method:"post",data:e})}function m(e){return Object(n["a"])({url:r["a"].finance.diamondRechargeAll,method:"post",data:e})}function p(e){return Object(n["a"])({url:r["a"].finance.getCashHisityAll,method:"post",data:e})}function f(e){return Object(n["a"])({url:r["a"].finance.regReplenishmentByCsv,method:"post",data:e})}function h(e){return Object(n["a"])({url:r["a"].finance.changePayStatus,method:"post",data:e})}function b(e){return Object(n["a"])({url:r["a"].finance.getMerchantList,method:"post",data:e})}function g(e){return Object(n["a"])({url:r["a"].finance.getWXMerchantList,method:"post",data:e})}function y(e){return Object(n["a"])({url:r["a"].finance.queryPayStatus,method:"post",data:e})}function v(e){return Object(n["a"])({url:r["a"].diamondRecharge.getQueryPayTask,method:"post",data:e})}function O(e){return Object(n["a"])({url:r["a"].diamondRecharge.getQueryPayDetails,method:"post",data:e})}function j(e){return Object(n["a"])({url:r["a"].finance.getCashDetail,method:"post",data:e})}function F(e){return Object(n["a"])({url:r["a"].finance.refuseCash,method:"post",data:e})}function w(e){return Object(n["a"])({url:r["a"].finance.completeCash,method:"post",data:e})}function C(e){return Object(n["a"])({url:r["a"].finance.refuseApply,method:"post",data:e})}function _(e){return Object(n["a"])({url:r["a"].finance.getBillDetail,method:"post",data:e})}},f5ca:function(e,t,a){}}]);