(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7e39c2a"],{"1fe8":function(e,t,r){e.exports=r.p+"static/img/error.e53687be.png"},2708:function(e,t,r){"use strict";var a=r("5530"),s=r("2f62"),i={data:function(){return{tabIndex:"0",page:1,size:10,limit:10,searchParams:{},dataParams:{}}},computed:Object(a["a"])({},Object(s["c"])({permissionArr:function(e){return e.permission.permissionArr}})),mounted:function(){console.log(this.permissionArr,"permissionArr")}};t["a"]=i},"2c434":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"searchParams"},[r("SearchPanel",{attrs:{forms:e.forms,"show-reset":!0,"show-search-btn":!0,"show-batch-pass":!0,"show-batch-rurn":!0},on:{onReset:e.reset,onSearch:e.onSearch,batchPass:e.handleBatchPass,BatchRurn:e.handleBatchRurn},model:{value:e.searchParams,callback:function(t){e.searchParams=t},expression:"searchParams"}})],1),r("tableList",{ref:"tableList",attrs:{cfgs:e.cfgs,layout:"sizes, total, prev, pager, next, jumper"},on:{selectionChange:e.selectionChange}}),r("verifiedComp",{ref:"verifiedComp"}),e.isDestoryComp?r("riskListComp",{ref:"riskListComp",on:{destoryComp:e.destoryComp}}):e._e(),r("el-dialog",{staticClass:"rejectPop",attrs:{visible:e.dialogVisible,width:"600px","before-close":e.handleClose,"show-close":!1},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closed}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"95px"}},[r("el-form-item",{attrs:{label:"用户信息:"}},[e._v(e._s(e.ruleForm.name)+" （ ID: "+e._s(e.ruleForm.user_id)+"）")]),r("el-form-item",{attrs:{label:"驳回说明:",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",maxlength:"15",placeholder:"请输入驳回理由"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},s=[],i=r("c7eb"),n=r("1da1"),o=r("5530"),l=r("ade3"),c=(r("b0c0"),r("a15b"),r("7db0"),r("d3b7"),r("99af"),r("159b"),r("14d9"),r("c24f")),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-verifiedComp-box"},[r("drawer",{ref:"drawer",attrs:{size:"470px",title:"查看实名详情",disabled:e.disabled},on:{cancel:e.cancel}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{slot:"body",model:e.ruleForm,rules:e.rules,"label-width":"80px","label-suffix":":","hide-required-asterisk":"see"===e.status},slot:"body"},[r("el-form-item",{attrs:{label:"用户ID",prop:"user_id"}},[r("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.user_id,callback:function(t){e.$set(e.ruleForm,"user_id",t)},expression:"ruleForm.user_id"}})],1),r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[r("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.nickname,callback:function(t){e.$set(e.ruleForm,"nickname",t)},expression:"ruleForm.nickname"}})],1),r("el-form-item",{attrs:{label:"手机号",prop:"nickname"}},[r("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),r("el-form-item",{attrs:{label:"身份证号",prop:"nickname"}},[r("el-input",{attrs:{disabled:e.disabled},model:{value:e.ruleForm.id_card,callback:function(t){e.$set(e.ruleForm,"id_card",t)},expression:"ruleForm.id_card"}})],1),r("el-form-item",{attrs:{label:"认证时间",prop:"create_time"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",disabled:e.disabled},model:{value:e.ruleForm.create_time,callback:function(t){e.$set(e.ruleForm,"create_time",t)},expression:"ruleForm.create_time"}})],1)],1)],1)],1)},m=[],d=(r("b64b"),r("e9c4"),r("0472")),p={components:{drawer:d["a"]},data:function(){return{status:"see",ruleForm:{},rules:{}}},computed:{disabled:function(){return!0}},methods:{loadParams:function(e){this.openComp();var t=JSON.parse(JSON.stringify(e));t.create_time=1e3*t.create_time,this.$set(this.$data,"ruleForm",t)},openComp:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.drawer.loadParams(e)},cancel:function(){this.openComp(!1)}}},h=p,f=(r("94cd"),r("2877")),b=Object(f["a"])(h,u,m,!1,null,null,null),v=b.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"risk-list-dialog"},[r("el-dialog",{attrs:{title:"风险列表",visible:e.dialogVisible,width:"800px","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closed}},[r("div",{staticClass:"searchParams"},[r("SearchPanel",{attrs:{forms:e.forms,"show-reset":!0,"show-search-btn":!0},on:{onReset:e.reset,onSearch:e.onSearch},model:{value:e.searchParams,callback:function(t){e.searchParams=t},expression:"searchParams"}})],1),r("tableList",{ref:"riskTableList",attrs:{cfgs:e.cfgs}}),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1)],1)},g=[],w=r("04a2"),y=r("4053"),k=r("8daa"),T=r("cf45"),L=r("2708"),x={components:{SearchPanel:w["a"],tableList:y["a"]},mixins:[L["a"]],data:function(){return{dialogVisible:!1,searchParams:{id:"",dateTimeParams:[]},dateTimeParams:{start_time:null,end_time:null},list:[]}},computed:{forms:function(){var e=this;return[{name:"dateTimeParams",type:"datePicker",dateType:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",label:"时间",value:"",handler:{change:function(t){e.emptyDateTime(),e.setDateTime(t)},selectChange:function(t,r){e.emptyDateTime()}}}]},cfgs:function(){var e=[{label:"时间",width:160,render:function(e,t){return e("span",t.row.create_time?Object(T["h"])(t.row.create_time,"YYYY-MM-DD HH:mm:ss",!0):"无")}},{label:"来源",prop:"from",render:function(e,t){return e("span",t.row.from||"无")}},{label:"用户",prop:"punished_user_nickname"},{label:"处罚类别",prop:"punish_type_str",render:function(e,t){return e("span",t.row.punish_type_str||"无")}},{label:"处罚结果",prop:"res",render:function(e,t){return e("span",t.row.res.join(",")||"无")}},{label:"备注",prop:"remark",render:function(e,t){return e("span",t.row.remark||"无")}}];return{vm:this,url:k["a"].user.riskList,columns:e}}},methods:{show:function(e){console.log(e),this.searchParams.id=e.id,this.setSevenDay(),this.dialogVisible=!0},setDateTime:function(e){var t=e?{start_time:e[0],end_time:e[1]}:{};this.$set(this,"dateTimeParams",t)},emptyDateTime:function(){this.dateTimeParams={}},reset:function(){this.setSevenDay(),this.getList()},onSearch:function(){this.getList()},handleClose:function(){this.dialogVisible=!1},beforeSearch:function(e){var t=Object(o["a"])(Object(o["a"])({},this.searchParams),this.dateTimeParams);return{page:e.page,pagesize:e.size,start_time:t.start_time?Math.floor(t.start_time/1e3):"",end_time:t.end_time?Math.floor(t.end_time/1e3):"",id:t.id}},getList:function(){this.$refs.riskTableList.getData()},setSevenDay:function(){var e=new Date,t=Object(T["h"])(e,"YYYY-MM-DD",!1),r=Object(T["h"])(e-5184e5,"YYYY-MM-DD",!1),a=new Date(r+" 00:00:00"),s=new Date(t+" 23:59:59"),i=[a.getTime(),s.getTime()];this.searchParams.dateTimeParams=i,this.dateTimeParams.start_time=i[0],this.dateTimeParams.end_time=i[1]},recentSeven:function(){this.setSevenDay(),this.getList()},closed:function(){this.$emit("destoryComp")}}},P=x,F=Object(f["a"])(P,_,g,!1,null,null,null),C=F.exports,D=r("279a"),O={name:"VerifiedList",components:{SearchPanel:w["a"],tableList:y["a"],verifiedComp:v,riskListComp:C},mixins:[L["a"]],data:function(){var e;return e={searchParams:{status:"",rbiStatus:"",reportType:"",punishType:""},dialogVisible:!1,ruleForm:{id:"",user_id:"",name:"",remark:""},node_env:"test",statusList:[],rbiStatusList:[{name:"全部",value:""},{name:"含有举报信息",value:1},{name:"含有处罚信息",value:2},{name:"无任何风险信息",value:0}],reportTypeList:[]},Object(l["a"])(e,"reportTypeList",[]),Object(l["a"])(e,"selectList",[]),Object(l["a"])(e,"isDestoryComp",!1),e},computed:{forms:function(){var e=this;return[{name:"user_number",type:"input",value:"",label:"用户ID",isNum:!0,placeholder:"请输入用户ID"},{name:"status",type:"select",value:"",keyName:"value",optionLabel:"name",label:"状态",placeholder:"请选择",options:this.statusList},{name:"dateTimeParams",type:"datePicker",dateType:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",label:"时间选择",value:"",handler:{change:function(t){e.emptyDateTime(),e.setDateTime(t)},selectChange:function(t,r){e.emptyDateTime()}}},{name:"rbiStatus",type:"select",value:"",keyName:"value",optionLabel:"name",label:"风险信息",placeholder:"请选择",options:this.rbiStatusList},{name:"reportType",type:"select",value:"",keyName:"id",optionLabel:"name",label:"举报类型",placeholder:"请选择",options:this.reportTypeList},{name:"punishType",type:"select",value:"",keyName:"id",optionLabel:"name",label:"处罚类型",placeholder:"请选择",options:this.punishTypeList}]},cfgs:function(){var e=this,t=[],r=[{label:"时间",width:160,render:function(e,t){return e("span",t.row.create_time?Object(T["h"])(t.row.create_time,"YYYY-MM-DD HH:mm:ss",!0):"无")}},{label:"用户ID",prop:"user_id"},{label:"昵称",showOverFlow:!0,render:function(e,t){return e("span",t.row.nickname||"无")}},{label:"真实姓名",prop:"name",render:function(e,t){return e("span",t.row.name||"无")}},{label:"身份证号",prop:"id_card",render:function(e,t){var r=t.row.id_card;return e("span",r||"无")}}],a=[{label:"证件照正面",isimg:!0,prop:"id_card_front",imgWidth:"50px",imgHeight:"50px"},{label:"证件照反面",isimg:!0,prop:"id_card_back",imgWidth:"50px",imgHeight:"50px"},{label:"手持身份证照",isimg:!0,prop:"user_photo",imgWidth:"50px",imgHeight:"50px"},{label:"地区",prop:"area",render:function(e,t){return e("span",t.row.area||"--")}}],s=[{label:"实名次数",render:function(e,t){var r;return r=0===t.row.change_count?"第1次实名":"第".concat(t.row.change_count+1,"次实名"),e("span",r)}},{label:"举报风险",render:function(t,r){var a="";return r.row.rbi_report&&(a=r.row.rbi_report.split(",").join("\n")),t("span",{class:"el-link el-link--primary",on:{click:function(){e.showRiskDialog(r.row)}},domProps:{innerHTML:a||"无"}})}},{label:"举报类型",showOverFlow:!0,render:function(t,r){var a="";return r.row.report_type&&(a=r.row.report_type.split(",").join(" / ")),t("span",{class:"el-link el-link--primary",on:{click:function(){e.showRiskDialog(r.row)}},domProps:{innerHTML:a||"无"}})}},{label:"处罚风险",render:function(t,r){var a="";return r.row.rbi_punish&&(a=r.row.rbi_punish.split(",").join("\n")),t("span",{class:"el-link el-link--primary",on:{click:function(){e.showRiskDialog(r.row)}},domProps:{innerHTML:a||"无"}})}},{label:"处罚类型",showOverFlow:!0,render:function(t,r){var a="";return r.row.punish_type&&(a=r.row.punish_type.split(",").join(" / ")),t("span",{class:"el-link el-link--primary",on:{click:function(){e.showRiskDialog(r.row)}},domProps:{innerHTML:a||"无"}})}},{label:"状态",render:function(t,r){var a=e.statusList.find((function(e){return e.value==r.row.status}));return t("span",a?a.name:"无")}},{label:"操作",minWidth:"120px",render:function(t,r){return t("div",[t("el-button",{props:{type:"success",size:"mini"},style:{display:"C"===r.row.status||2===r.row.status?"unset":"none"},on:{click:function(){e.funcClick(r.row)}}},"审核通过"),t("el-button",{props:{type:"danger",size:"mini"},style:{display:"C"===r.row.status||2===r.row.status?"unset":"none"},on:{click:function(){e.manageClick(r.row)}}},"驳回"),t("span",{style:{display:"Y"===r.row.status||1===r.row.status?"unset":"none"},on:{click:function(){}}},"- -"),t("span",{style:{display:"R"===r.row.status||3===r.row.status?"unset":"none"},on:{click:function(){}}},"- -")])}}];return t=this.node_env.indexOf("aidoo")>-1?r.concat(a).concat(s):r.concat(s),{vm:this,url:k["a"].user.autonymlist,isShowCheckbox:!0,columns:t,search:{sizes:[10,30,50,100]}}}},mounted:function(){var e=this,t=[];t=this.node_env.indexOf("aidoo")>-1?D["a"].USERMANAGEMENTAUTONYMSTATUSLIST2:D["a"].USERMANAGEMENTAUTONYMSTATUSLIST,this.$set(this,"statusList",t),Object(c["i"])().then((function(t){var r=t.data,a=[{id:0,name:"全部"}];e.reportTypeList=a.concat(r.report_list),e.punishTypeList=a.concat(r.punish_list)}))},methods:{nameDesensitize:function(e){if(e){var t="",r=e.split("");return r.forEach((function(e,a){a<r.length-1&&(t+="*")})),e.substring(0,1)+t}return"无"},beforeSearch:function(e){var t=Object(o["a"])(Object(o["a"])({},this.searchParams),this.dateTimeParams);return{page:e.page,pagesize:e.size,user_number:t.user_number,start_time:t.start_time?Math.floor(t.start_time/1e3):"",end_time:t.end_time?Math.floor(t.end_time/1e3):"",status:t.status,rbiStatus:t.rbiStatus,reportType:t.reportType,punishType:t.punishType}},getList:function(){this.$refs.tableList.getData()},setDateTime:function(e){var t=e?{start_time:e[0],end_time:e[1]}:{};this.$set(this,"dateTimeParams",t)},emptyDateTime:function(){this.dateTimeParams={}},reset:function(){this.searchParams={status:"",rbiStatus:"",reportType:"",punishType:""},this.dateTimeParams={},this.getList()},onSearch:function(){this.getList()},funcClick:function(e){this.node_env.indexOf("aidoo")>-1?this.func("1",e):this.func("Y",e)},manageClick:function(e){this.node_env.indexOf("aidoo")>-1?(this.ruleForm.uid=e.uid,this.ruleForm.user_id=e.user_id,this.ruleForm.name=e.name,this.ruleForm.remark="",this.dialogVisible=!0):this.func("R",e)},func:function(e,t){var r=this;return Object(n["a"])(Object(i["a"])().mark((function a(){var s,n;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={},r.node_env.indexOf("aidoo")>-1?(s={uids:[t.uid],status:e},t.remark&&(s.remark=t.remark)):s={uids:[t.uid],status:e},a.next=4,Object(c["c"])(s);case 4:n=a.sent,2e3===n.code&&(r.$success("操作成功"),r.getList(),r.dialogVisible=!1);case 6:case"end":return a.stop()}}),a)})))()},batchFunc:function(e){var t=this;return Object(n["a"])(Object(i["a"])().mark((function r(){var a;return Object(i["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(t.selectList.length<=0)){r.next=3;break}return t.$warning("请至少选择一条数据"),r.abrupt("return",!1);case 3:a=1==e?"通过":"拒绝",t.$confirm("你确定要批量"+a+"此次数据吗？","操作提醒",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(Object(n["a"])(Object(i["a"])().mark((function r(){var a,s,n;return Object(i["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=[],t.selectList.forEach((function(e){a.push(e.uid)})),s={},s=t.node_env.indexOf("aidoo")>-1?{uids:a,status:1==e?"1":"3"}:{uids:a,status:1==e?"Y":"R"},r.next=6,Object(c["c"])(s);case 6:n=r.sent,2e3===n.code&&t.$success("批量操作成功"),t.getList();case 9:case"end":return r.stop()}}),r)})))).catch((function(){}));case 5:case"end":return r.stop()}}),r)})))()},handleClose:function(){this.dialogVisible=!1},submitForm:function(){this.func("3",this.ruleForm)},closed:function(){this.ruleForm={id:"",user_id:"",name:"",remark:""}},selectionChange:function(e){this.selectList=e},handleBatchPass:function(){this.batchFunc(1)},handleBatchRurn:function(){this.batchFunc(2)},showRiskDialog:function(e){var t=this;this.isDestoryComp=!0,setTimeout((function(){t.$refs.riskListComp.show(e)}),50)},destoryComp:function(){this.isDestoryComp=!1}}},j=O,S=Object(f["a"])(j,a,s,!1,null,null,null);t["default"]=S.exports},"94cd":function(e,t,r){"use strict";r("f99e")},f99e:function(e,t,r){}}]);