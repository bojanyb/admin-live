(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-718fd54c"],{"17e6":function(r,e,o){"use strict";o.r(e);var t=function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("div",{staticClass:"app-container"},[o("el-card",[o("el-form",{ref:"popForm",attrs:{model:r.popForm,rules:r.popFormRules}},[o("el-form-item",{attrs:{label:"用户ID",prop:"user_number","label-width":r.formLabelWidth}},[o("el-col",{attrs:{span:17}},[o("el-input",{directives:[{name:"input-limit",rawName:"v-input-limit",value:0,expression:"0"}],staticStyle:{width:"335px"},attrs:{placeholder:"请输入被充值用户ID",clearable:"",autocomplete:"off"},on:{blur:r.handleUserInfo},model:{value:r.popForm.user_number,callback:function(e){r.$set(r.popForm,"user_number",e)},expression:"popForm.user_number"}})],1)],1),1==r.isShowUser?o("el-form-item",{attrs:{"label-width":r.formLabelWidth}},[o("el-col",{attrs:{span:17}},[o("div",{staticClass:"userInfoBox"},[o("div",{staticClass:"userImg fl"},[o("img",{attrs:{src:r.userInfo.face}})]),o("div",{staticClass:"userInfo"},[o("div",{staticClass:"userName"},[r._v("昵称： "+r._s(r.userInfo.nickname))]),o("div",{staticClass:"userBanner"},[r._v("余额： "+r._s(r.userInfo.balance))])])])])],1):r._e(),o("el-form-item",{attrs:{label:"充值类型",prop:"currency","label-width":r.formLabelWidth}},[o("el-radio-group",{model:{value:r.popForm.currency,callback:function(e){r.$set(r.popForm,"currency",e)},expression:"popForm.currency"}},[o("el-radio",{attrs:{label:1}},[r._v("钻石")]),o("el-radio",{attrs:{label:2}},[r._v("喵粮")])],1)],1),o("el-form-item",{attrs:{label:"充值数量",prop:"amount","label-width":r.formLabelWidth}},[o("el-col",{attrs:{span:17}},[o("el-input",{staticStyle:{width:"335px"},attrs:{placeholder:"请输入非0的正负整数",clearable:"",autocomplete:"off"},model:{value:r.popForm.amount,callback:function(e){r.$set(r.popForm,"amount",e)},expression:"popForm.amount"}})],1)],1),o("el-form-item",{attrs:{label:"充值原因",prop:"remark","label-width":r.formLabelWidth}},[o("el-col",{attrs:{span:17}},[o("el-input",{staticStyle:{width:"335px"},attrs:{type:"textarea",maxlength:"100",minlength:"1","show-word-limit":"",autosize:{minRows:2,maxRows:6},placeholder:"请输入充值原因",clearable:"",autocomplete:"off"},model:{value:r.popForm.remark,callback:function(e){r.$set(r.popForm,"remark",e)},expression:"popForm.remark"}})],1)],1)],1),o("el-button",{staticClass:"giveBtn fl",attrs:{type:"primary"},on:{click:r.handleGive}},[r._v("确定")])],1)],1)},a=[],n=(o("d9e2"),o("1a72")),l={name:"giveAway",data:function(){var r=this;return{formLabelWidth:"120px",userInfo:{face:"",nickname:"",balance:0},isShowUser:!1,popForm:{user_number:"",currency:1,amount:"",remark:""},popFormRules:{user_number:[{required:!0,trigger:"blur",validator:function(e,o,t){return r.popForm.user_number&&""!=r.popForm.user_number?t():t(new Error("被充值用户ID不能为空!"))}}],currency:[{required:!0,trigger:"blur",validator:function(e,o,t){return r.popForm.currency&&""!=r.popForm.currency?t():t(new Error("充值类型不能为空!"))}}],amount:[{required:!0,trigger:"blur",validator:function(e,o,t){var a=r.popForm.amount;if(!a||""==a)return t(new Error("充值数量不能为空!"));if(a.indexOf(".")>-1)return t(new Error("充值数量不能为小数!"));if("0"==a)return t(new Error("充值数量不能为0!"));if(a.indexOf("-")>-1){var n=a.split("-")[1];if(n>r.userInfo.balance)return t(new Error("充值数量最小不能超出用户余额!"));if("0"==n)return t(new Error("充值数量不能为0!"))}return r.popForm.amount>1e7?t(new Error("充值数量最大范围10000000!")):t()}}],remark:[{required:!0,trigger:"blur",validator:function(e,o,t){return r.popForm.remark&&""!=r.popForm.remark?r.popForm.remark.length<1||r.popForm.remark>100?t(new Error("充值原因字符范围1~100!")):t():t(new Error("充值原因不能为空!"))}}]}}},created:function(){},mounted:function(){},methods:{handleUserInfo:function(){var r=this;if(this.popForm.user_number){var e={user_number:this.popForm.user_number};Object(n["ub"])(e).then((function(e){r.userInfo=e.data,r.userInfo.balance=parseInt(e.data.diamond)+parseInt(e.data.gain),r.isShowUser=!0})).catch((function(r){}))}},handleGive:function(){var r=this;this.$refs.popForm.validate((function(e){e&&Object(n["lb"])(r.popForm).then((function(e){r.popForm={user_number:"",currency:r.popForm.currency,amount:"",remark:""},r.$message.success("充值成功"),r.userInfo={face:"",nickname:"",balance:0},r.popForm.currency=1,r.isShowUser=!1})).catch((function(e){r.$message.error(e)}))}))}}},s=l,i=(o("6387"),o("2877")),u=Object(i["a"])(s,t,a,!1,null,"0d6312c5",null);e["default"]=u.exports},6387:function(r,e,o){"use strict";o("bca6")},bca6:function(r,e,o){}}]);