(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1797391c"],{"04ed":function(e,t,a){"use strict";a("8bc7")},"1fe8":function(e,t,a){e.exports=a.p+"static/img/error.e53687be.png"},2708:function(e,t,a){"use strict";var n=a("4672"),r=a("52c1"),i={data:function(){return{tabIndex:"0",page:1,size:10,limit:10,searchParams:{},dataParams:{}}},computed:Object(n["a"])({},Object(r["c"])({permissionArr:function(e){return e.permission.permissionArr}})),mounted:function(){console.log(this.permissionArr,"permissionArr")}};t["a"]=i},"35e6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"room-livelist"},[a("div",{staticClass:"searchParams"},[a("SearchPanel",{attrs:{forms:e.forms,"show-add":!0,"show-search-btn":!0,"show-export":!0,"show-batch-rurn":!0,"add-name":"批量修改当前通道","export-name":"批量输入ID修改","batch-rurn-name":"导出Excel"},on:{add:e.batch,export:e.handleInputIdUpdate,onSearch:e.onSearch,BatchRurn:e.BatchRurn},model:{value:e.searchParams,callback:function(t){e.searchParams=t},expression:"searchParams"}})],1),a("tableList",{ref:"tableList",attrs:{cfgs:e.cfgs,layout:"total, sizes, prev, pager, next, jumper"},on:{selectionChange:e.selectionChange}}),e.isDestoryComp?a("editComp",{ref:"editComp",on:{destoryComp:e.destoryComp,getList:e.getList}}):e._e(),a("el-dialog",{attrs:{visible:e.inputIdUpdateVisible,title:"批量输入ID修改",width:"30%","append-to-body":""},on:{"update:visible":function(t){e.inputIdUpdateVisible=t},close:function(t){e.inputIdForm={}}}},[a("el-form",{ref:"inputIdForm",attrs:{model:e.inputIdForm,"label-suffix":":","label-width":"90px"}},[a("el-form-item",{attrs:{label:"用户ID"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.inputIdForm.user_number,callback:function(t){e.$set(e.inputIdForm,"user_number",t)},expression:"inputIdForm.user_number"}})],1),a("el-row",{staticStyle:{padding:"20px"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"支付宝提现通道","label-width":"80"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择修改提现通道"},model:{value:e.inputIdForm.alipay_cash_channel,callback:function(t){e.$set(e.inputIdForm,"alipay_cash_channel",t)},expression:"inputIdForm.alipay_cash_channel"}},e._l(e.alipayCashList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value,disabled:e.disabled}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"银行卡提现通道","label-width":"80"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择修改提现通道"},model:{value:e.inputIdForm.cash_channel,callback:function(t){e.$set(e.inputIdForm,"cash_channel",t)},expression:"inputIdForm.cash_channel"}},e._l(e.bankCashList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.inputIdForm={}}}},[e._v("重置")])],1)],1)],1),a("el-dialog",{attrs:{visible:e.respsoneDataVisible,title:"批量修改执行结果",width:"30%","append-to-body":"",center:""},on:{"update:visible":function(t){e.respsoneDataVisible=t}}},[a("div",{staticStyle:{padding:"20px"}},[a("div",{staticStyle:{padding:"10px"}},[a("span",{staticStyle:{color:"#F56C6C"}},[e._v(e._s(e.respsoneData.error_user&&e.respsoneData.error_user.split(",").length?e.respsoneData.error_user.split(",").length:0))]),e._v("条执行失败 ")]),a("div",{staticStyle:{padding:"10px"}},[e._v(e._s("请排查："+(e.respsoneData.error_user||"无")))])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleCloseRespsone}},[e._v("确定")])],1)])],1)},r=[],i=a("40bd"),s=a("7e8c"),o=a("4672"),l=(a("9dcb"),a("5250"),a("48d4"),a("23dc"),a("8bda"),a("9d95"),a("ed70"),a("430a"),a("ccf1"),a("65c4"),a("1a72")),c=a("04a2"),u=a("4053"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dialog_body_box"},[a("el-dialog",{attrs:{title:e.title,width:"800px",visible:e.isEditComp},on:{closed:e.closed,"update:visible":function(t){e.isEditComp=t}}},[a("el-form",{ref:"ruleForm",staticClass:"body_box-line",attrs:{model:e.ruleForm,"label-width":"90px","label-suffix":":"}},[a("div",{staticClass:"body_box-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","max-height":"250"}},[a("el-table-column",{attrs:{fixed:"",prop:"id_card",label:"身份证"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100"}}),a("el-table-column",{attrs:{prop:"alipay_cash_channel",label:"当前支付宝提现通道"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("filterChannel")(t.row.alipay_cash_channel))+" ")]}}])}),a("el-table-column",{attrs:{prop:"cash_channel",label:"当前银行卡提现通道"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("filterChannel")(t.row.cash_channel))+" ")]}}])})],1)],1),a("el-row",{staticStyle:{padding:"20px"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"支付宝提现通道",prop:"channels","label-width":"80"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择修改提现通道"},model:{value:e.ruleForm.alipay_cash_channel,callback:function(t){e.$set(e.ruleForm,"alipay_cash_channel",t)},expression:"ruleForm.alipay_cash_channel"}},e._l(e.alipayCashList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value,disabled:e.disabled}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"银行卡提现通道",prop:"channels","label-width":"80"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择修改提现通道"},model:{value:e.ruleForm.cash_channel,callback:function(t){e.$set(e.ruleForm,"cash_channel",t)},expression:"ruleForm.cash_channel"}},e._l(e.bankCashList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)],1)],1)},d=[],h=(a("1e6d"),a("279a")),m=a("7c98"),b={components:{},data:function(){return{isEditComp:!1,ruleForm:{alipay_cash_channel:null,cash_channel:null},tableData:[],cashList:h["a"].CASHCHANNEL,alipayCashList:h["a"].ALIPAYCASHCHANNEL,bankCashList:h["a"].BANKCASHCHANNEL,status:""}},computed:{title:function(){return"single"===this.status?"修改":"batch"===this.status?"批量修改":void 0}},filters:{filterChannel:function(e){var t=h["a"].CASHCHANNEL.find((function(t){return t.value===e}));return t.name}},methods:{loadParams:function(e,t){var a=this;return Object(s["a"])(Object(i["a"])().mark((function n(){var r;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.status=e,"single"===e?(a.tableData=[t],r=Object(m["cloneDeep"])(t),a.ruleForm.alipay_cash_channel=r.alipay_cash_channel,a.ruleForm.cash_channel=r.cash_channel):"batch"===e&&(a.tableData=t),a.openComp();case 3:case"end":return n.stop()}}),n)})))()},openComp:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isEditComp=e},cancel:function(){var e=this;this.$confirm("关闭弹窗将不会保留您的更改, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.openComp(!1)})).catch((function(){}))},update:function(){},submitForm:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.ruleForm.validate(function(){var t=Object(s["a"])(Object(i["a"])().mark((function t(a){var n,r,s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}return n=e.tableData.reduce((function(e,t){return e.push(t.id_card),e}),[]).join(","),r={id_card:n,cash_channel:e.ruleForm.cash_channel,alipay_cash_channel:e.ruleForm.alipay_cash_channel},t.next=5,Object(l["ac"])(r);case 5:s=t.sent,s.code+""==="2000"&&(e.$success("保存成功"),e.openComp(!1),e.$emit("getList")),t.next=11;break;case 9:return console.log("error submit!!"),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.openComp(!1)},closed:function(){this.$emit("destoryComp")}}},f=b,_=(a("a074"),a("e607")),v=Object(_["a"])(f,p,d,!1,null,"8a45a97c",null),y=v.exports,w=a("8daa"),x=a("cf45"),C=a("2708"),g={name:"channelRoom",mixins:[C["a"]],components:{SearchPanel:c["a"],tableList:u["a"],editComp:y},data:function(){return{isDestoryComp:!1,ruleForm:{},selectionList:[],inputIdUpdateVisible:!1,respsoneDataVisible:!1,cashList:h["a"].CASHCHANNEL,alipayCashList:h["a"].ALIPAYCASHCHANNEL,bankCashList:h["a"].BANKCASHCHANNEL,inputIdForm:{},respsoneData:{error_user:""}}},computed:{forms:function(){return[{name:"cash_channel",type:"select",value:"",keyName:"value",optionLabel:"name",label:"当前提现通道",placeholder:"请选择当前提现通道",clearable:!0,options:h["a"].CASHCHANNEL},{name:"id_card",type:"input",value:"",label:"身份证",placeholder:"请输入身份证"},{name:"name",type:"input",value:"",label:"姓名",placeholder:"请输入姓名"},{name:"user_number",type:"input",value:"",label:"用户ID",isNum:!0,placeholder:"请输入用户ID"}]},cfgs:function(){var e=this;return{vm:this,isShowCheckbox:!0,url:w["a"].CashHisity.cashChannel,search:{sizes:[10,30,50,100,300,500,1e3]},columns:[{label:"身份证",prop:"id_card",width:"170px"},{label:"姓名",prop:"name",width:"100px"},{label:"用户ID",prop:"user_number",width:"100px"},{label:"小猪通道余额",prop:"pig_quota",minWidth:"130px",sortable:"custom",render:function(e,t){var a=t.row.pig_quota.map((function(t){return e("div","".concat(t.name,"：").concat(t.quota))}));return e("div",a)}},{label:"工猫通道余额",prop:"cat_quota",minWidth:"130px",sortable:"custom",render:function(e,t){var a=t.row.cat_quota.map((function(t){return e("div","".concat(t.name,"：").concat(t.quota))}));return e("div",a)}},{label:"美事通通道余额",prop:"mst_quota",minWidth:"150px",sortable:"custom",render:function(e,t){var a=t.row.mst_quota.map((function(t){return e("div","".concat(t.name,"：").concat(t.quota))}));return e("div",a)}},{label:"福穗通道余额",prop:"fusui_quota",minWidth:"130px",sortable:"custom",render:function(e,t){var a=t.row.fusui_quota.map((function(t){return e("div","".concat(t.name,"：").concat(t.quota))}));return e("div",a)}},{label:"支付宝提现通道",prop:"alipay_cash_channel",width:"120px",render:function(e,t){var a=h["a"].CASHCHANNEL.find((function(e){return e.value===t.row.alipay_cash_channel}));return e("span",a?a.name:"无")}},{label:"银行卡提现通道",prop:"cash_channel",width:"120px",render:function(e,t){var a=h["a"].CASHCHANNEL.find((function(e){return e.value===t.row.cash_channel}));return e("span",a?a.name:"无")}},{label:"公司-银行卡",prop:"aiyi_bank",width:"100px",render:function(e,t){return e("span",t.row.aiyi_bank?"已签署":"未签署")}},{label:"公司-支付宝",prop:"aiyi_alipay",width:"100px",render:function(e,t){return e("span",t.row.aiyi_alipay?"已签署":"未签署")}},{label:"小猪-支付宝",prop:"pig_alipay",width:"100px",render:function(e,t){return e("span",t.row.pig_alipay?"已签署":"未签署")}},{label:"小猪-银行卡",prop:"pig_bank",width:"100px",render:function(e,t){return e("span",t.row.pig_bank?"已签署":"未签署")}},{label:"工猫-银行卡",width:"100px",prop:"cat_bank",render:function(e,t){return e("span",t.row.cat_bank?"已签署":"未签署")}},{label:"工猫-支付宝",prop:"cat_alipay",width:"100px",render:function(e,t){return e("span",t.row.cat_alipay?"已签署":"未签署")}},{label:"美事通-银行卡",prop:"mst_bank",width:"110px",render:function(e,t){return e("span",t.row.mst_bank?"已签署":"未签署")}},{label:"美事通-支付宝",prop:"mst_alipay",width:"110px",render:function(e,t){return e("span",t.row.mst_alipay?"已签署":"未签署")}},{label:"福穗-银行卡",prop:"fusui_bank",width:"100px",render:function(e,t){return e("span",t.row.fusui_bank?"已签署":"未签署")}},{label:"福穗-支付宝",prop:"fusui_alipay",width:"100px",render:function(e,t){return e("span",t.row.fusui_alipay?"已签署":"未签署")}},{label:"操作",minWidth:"120px",fixed:"right",render:function(t,a){return t("div",[t("el-button",{props:{type:"primary"},on:{click:function(){e.update(a.row)}}},"修改")])}}]}}},methods:{beforeSearch:function(e){var t=Object(o["a"])(Object(o["a"])({},this.searchParams),this.dateTimeParams);return{page:e?e.page:null,pagesize:e?e.size:null,user_number:t.user_number,id_card:t.id_card,name:t.name,cash_channel:t.cash_channel}},getList:function(){this.$refs.tableList.getData()},batch:function(){if(!this.selectionList||!this.selectionList.length)return this.$message.error("至少要选择一个修改对象"),!1;var e=this.selectionList||[];this.load("batch",e)},handleInputIdUpdate:function(){this.inputIdUpdateVisible=!0},update:function(e){this.load("single",e)},load:function(e,t){var a=this;this.isDestoryComp=!0,setTimeout((function(){a.$refs.editComp.loadParams(e,t)}),50)},onSearch:function(){this.getList()},destoryComp:function(){this.isDestoryComp=!1},selectionChange:function(e){var t=e.reduce((function(e,t){return e.push(t),e}),[]);this.selectionList=t},submitForm:function(){var e=this;this.$refs.inputIdForm.validate(function(){var t=Object(s["a"])(Object(i["a"])().mark((function t(a){var n,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return n={user_number:e.inputIdForm.user_number,cash_channel:e.inputIdForm.cash_channel,alipay_cash_channel:e.inputIdForm.alipay_cash_channel},t.next=4,Object(l["ac"])(n);case 4:r=t.sent,r.code+""==="2000"&&(e.respsoneData=r.data,r.data&&r.data.error_user?e.respsoneDataVisible=!0:(e.inputIdUpdateVisible=!1,e.getList())),t.next=10;break;case 8:return console.log("error submit!!!"),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},BatchRurn:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var a,n,r,s,o,c;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.beforeSearch(),n=e.$refs.tableList.search,a.page=n?n.page:null,a.pagesize=n?n.size:null,r=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),t.next=7,Object(l["i"])(a);case 7:if(s=t.sent,t.prev=8,o=JSON.parse(JSON.stringify(s.data.list)),!(o.length<=0)){t.next=12;break}return t.abrupt("return",e.$warning("当前没有数据可以导出"));case 12:o=o.map((function(e,t){var a=e.pig_quota.map((function(e){return"".concat(e.name,"：").concat(e.quota)})),n=e.cat_quota.map((function(e){return"".concat(e.name,"：").concat(e.quota)})),r=e.mst_quota.map((function(e){return"".concat(e.name,"：").concat(e.quota)})),i=e.fusui_quota.map((function(e){return"".concat(e.name,"：").concat(e.quota)})),s={id_card:e.id_card,name:e.name,user_number:e.user_number,pig_quota:a,cat_quota:n,mst_quota:r,fusui_quota:i};return s})),c=["身份证","姓名","用户ID","小猪通道余额","工猫通道余额","美事通通道余额","福穗通道余额"],Object(x["b"])(o,c,"公会房间列表"),r.close(),t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](8),console.log(t.t0),r.close();case 22:case"end":return t.stop()}}),t,null,[[8,18]])})))()},handleCloseRespsone:function(){this.respsoneDataVisible=!1,this.inputIdUpdateVisible=!1,this.getList()}}},k=g,L=(a("04ed"),Object(_["a"])(k,n,r,!1,null,null,null));t["default"]=L.exports},"8bc7":function(e,t,a){},a074:function(e,t,a){"use strict";a("f78f")},f78f:function(e,t,a){}}]);