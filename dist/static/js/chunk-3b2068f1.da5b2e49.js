(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b2068f1"],{"1fe8":function(e,t,i){e.exports=i.p+"static/img/error.e53687be.png"},2708:function(e,t,i){"use strict";var r=i("5530"),s=i("2f62"),n={data:function(){return{tabIndex:"0",page:1,size:10,limit:10,searchParams:{},dataParams:{}}},computed:Object(r["a"])({},Object(s["c"])({permissionArr:function(e){return e.permission.permissionArr}})),mounted:function(){console.log(this.permissionArr,"permissionArr")}};t["a"]=n},"2e67d":function(e,t,i){},4910:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container livetitle-box"},[i("div",{staticClass:"btnBox"},[i("el-button",{attrs:{type:"success"},on:{click:e.add}},[e._v("新增")])],1),i("tableList",{ref:"tableList",attrs:{cfgs:e.cfgs}}),e.isDestoryComp?i("livetitleComp",{ref:"livetitleComp",on:{destoryComp:e.destoryComp,getList:e.getList}}):e._e()],1)},s=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"livetitleComp-box"},[i("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,width:"450px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closed}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},["add"===e.status?i("el-form-item",{attrs:{label:"等级",prop:"live_rank"}},[i("el-input",{directives:[{name:"input-limit",rawName:"v-input-limit",value:0,expression:"0"}],model:{value:e.ruleForm.live_rank,callback:function(t){e.$set(e.ruleForm,"live_rank",t)},expression:"ruleForm.live_rank"}})],1):e._e(),i("el-form-item",{attrs:{label:"礼物总价值",prop:"income"}},[i("el-input",{directives:[{name:"input-limit",rawName:"v-input-limit",value:0,expression:"0"}],model:{value:e.ruleForm.income,callback:function(t){e.$set(e.ruleForm,"income",t)},expression:"ruleForm.income"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},a=[],o=i("c7eb"),l=i("1da1"),u=(i("b64b"),i("e9c4"),i("1a72")),c={data:function(){return{dialogVisible:!1,status:"add",ruleForm:{id:null,live_rank:"",income:""},rules:{income:[{required:!0,message:"请填写礼物总价值",trigger:"blur"}],live_rank:[{required:!0,message:"请输入等级",trigger:"blur"}]}}},computed:{title:function(){return"add"===this.status?"新增魅力等级":"update"===this.status?"修改魅力等级":void 0}},methods:{handleClose:function(){this.dialogVisible=!1},loadParams:function(e,t){if(this.dialogVisible=!0,this.status=e,"add"!==e){var i=JSON.parse(JSON.stringify(t));this.$set(this.$data,"ruleForm",i)}},submitForm:function(e){var t=this;return Object(l["a"])(Object(o["a"])().mark((function i(){return Object(o["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.$refs[e].validate(function(){var e=Object(l["a"])(Object(o["a"])().mark((function e(i){var r,s,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i){e.next=9;break}return r=t.ruleForm,s={id:r.id,live_rank:r.live_rank,income:r.income},e.next=5,Object(u["V"])(s);case 5:n=e.sent,2e3===n.code&&("add"===t.status?t.$message.success("新增成功"):t.$message.success("修改成功"),t.dialogVisible=!1,t.$emit("getList")),e.next=11;break;case 9:return console.log("error submit!!"),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return i.stop()}}),i)})))()},resetForm:function(e){this.$refs[e].resetFields()},closed:function(){this.$emit("destoryComp")}}},m=c,d=i("2877"),p=Object(d["a"])(m,n,a,!1,null,"db917370",null),f=p.exports,b=i("4053"),v=i("2708"),h=i("8daa"),g=i("cf45"),k={name:"LivetitleList",mixins:[v["a"]],components:{livetitleComp:f,tableList:b["a"]},computed:{cfgs:function(){var e=this;return{vm:this,url:h["a"].system.gits.liveRank,columns:[{label:"等级",prop:"live_rank"},{label:"总魅力",prop:"income"},{label:"修改时间",render:function(e,t){return e("span",t.row.update_time?Object(g["h"])(t.row.update_time,"YYYY-MM-DD HH:mm:ss",!0):"无")}},{label:"操作",render:function(t,i){return t("div",[t("el-button",{props:{type:"primary"},on:{click:function(){e.update(i.row)}}},"修改")])}}]}}},data:function(){return{isDestoryComp:!1}},methods:{getList:function(){this.$refs.tableList.getData()},beforeSearch:function(e){return{page:e.page,pagesize:e.size}},reset:function(){this.searchParams={},this.getList()},onSearch:function(){this.getList()},destoryComp:function(){this.isDestoryComp=!1},add:function(){this.load("add")},update:function(e){this.load("update",e)},load:function(e,t){var i=this;this.isDestoryComp=!0,setTimeout((function(){i.$refs.livetitleComp.loadParams(e,t)}),50)}}},C=k,_=(i("a378"),Object(d["a"])(C,r,s,!1,null,null,null));t["default"]=_.exports},a378:function(e,t,i){"use strict";i("2e67d")}}]);