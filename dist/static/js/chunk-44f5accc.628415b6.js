(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44f5accc"],{"127f":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a("c7eb"),n=a("1da1"),s=(a("b0c0"),a("d3b7"),a("8237")),o=a.n(s),i=a("9b15"),c={ossParams:{region:"oss-cn-shenzhen",success_action_status:"200",accessKeyId:"LTAI5tFTcRH7h3RXKoYmnWMk",accessKeySecret:"qdx4B8jIh2VjBgBDG5fNfG0Oj21GSP",bucket:"live-huidapay-net"}};function u(e){var t=e.name.split("."),a=o()(Date.now()+t[0]);return a=a+"."+t[t.length-1],a}function l(e){return new Promise(function(){var t=Object(n["a"])(Object(r["a"])().mark((function t(a,n){var s,o;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=u(e),o=new i({region:c.ossParams.region,accessKeyId:c.ossParams.accessKeyId,accessKeySecret:c.ossParams.accessKeySecret,bucket:c.ossParams.bucket}),t.next=4,o.multipartUpload(s,e);case 4:t.sent,a({url:"https://photo.aiyi.live/"+s});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())}},"19c9":function(e,t,a){},"1b1b":function(e,t,a){"use strict";a("953c")},"1fe8":function(e,t,a){e.exports=a.p+"static/img/error.e53687be.png"},2708:function(e,t,a){"use strict";var r=a("5530"),n=a("2f62"),s={data:function(){return{tabIndex:"0",page:1,size:10,limit:10,searchParams:{},dataParams:{}}},computed:Object(r["a"])({},Object(n["c"])({permissionArr:function(e){return e.permission.permissionArr}})),mounted:function(){console.log(this.permissionArr,"permissionArr")}};t["a"]=s},"74e4":function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"g",(function(){return o})),a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"f",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"h",(function(){return m}));var r=a("829b"),n=a("8daa");function s(e){return Object(r["a"])({url:n["a"].move.getCardConfig,method:"post",data:e})}function o(e){return Object(r["a"])({url:n["a"].move.saveCardConfig,method:"post",data:e})}function i(e){return Object(r["a"])({url:n["a"].move.rmHeartAnchor,method:"post",data:e})}function c(e){return Object(r["a"])({url:n["a"].move.addHeartAnchor,method:"post",data:e})}function u(e){return Object(r["a"])({url:n["a"].move.editHeartAnchor,method:"post",data:e})}function l(e){return Object(r["a"])({url:n["a"].move.save,method:"post",data:e})}function d(e){return Object(r["a"])({url:n["a"].move.delete,method:"post",data:e})}function m(e){return Object(r["a"])({url:n["a"].move.serachTag,method:"post",data:e})}},"953c":function(e,t,a){},a41c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container moveDating-anchor-box"},[a("div",{staticClass:"searchParams"},[a("SearchPanel",{attrs:{forms:e.forms,"show-reset":!0,"show-search-btn":!0,"show-add":!0},on:{onReset:e.reset,onSearch:e.onSearch,add:e.add},model:{value:e.searchParams,callback:function(t){e.searchParams=t},expression:"searchParams"}})],1),a("tableList",{ref:"tableList",attrs:{cfgs:e.cfgs}}),e.isDestoryComp?a("anchorComp",{ref:"addMember",on:{destoryComp:e.destoryComp,getList:e.getList}}):e._e()],1)},n=[],s=a("c7eb"),o=a("1da1"),i=a("5530"),c=(a("7db0"),a("d3b7"),a("b0c0"),a("b64b"),a("e9c4"),a("74e4")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addMember-box"},[a("drawer",{ref:"drawer",attrs:{size:"470px",title:"查看心动主播",disabled:e.disabled},on:{cancel:e.cancel,closed:e.closed}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{slot:"body",model:e.ruleForm,rules:e.rules,"label-width":"85px","label-suffix":":","hide-required-asterisk":"see"===e.status},slot:"body"},[a("el-form-item",{attrs:{label:"用户ID",prop:"user_number"}},[a("el-input",{attrs:{disabled:e.disabled,placeholder:"请输入用户ID"},model:{value:e.ruleForm.user_number,callback:function(t){e.$set(e.ruleForm,"user_number",t)},expression:"ruleForm.user_number"}})],1),a("el-form-item",{attrs:{label:"用户昵称",prop:"nickname"}},[a("el-input",{attrs:{disabled:e.disabled,placeholder:"请输入用户昵称"},model:{value:e.ruleForm.nickname,callback:function(t){e.$set(e.ruleForm,"nickname",t)},expression:"ruleForm.nickname"}})],1),a("el-form-item",{attrs:{label:"用户头像",prop:"nickname"}},[a("uploadImg",{ref:"uploadImg",attrs:{disabled:e.disabled,imgUrl:e.ruleForm.face,name:"face",accept:".png,.jpg,.jpeg"},model:{value:e.ruleForm.face,callback:function(t){e.$set(e.ruleForm,"face",t)},expression:"ruleForm.face"}})],1),a("el-form-item",{attrs:{label:"用户性别",prop:"sex"}},[a("el-select",{attrs:{disabled:e.disabled,placeholder:"请选择用户性别"},model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},e._l(e.sexList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"个性签名",prop:"autograph"}},[a("el-input",{attrs:{disabled:e.disabled,placeholder:"请输入个性签名"},model:{value:e.ruleForm.autograph,callback:function(t){e.$set(e.ruleForm,"autograph",t)},expression:"ruleForm.autograph"}})],1)],1)],1),a("el-dialog",{attrs:{title:"添加心动主播",visible:e.dialogVisible,width:"600px","before-close":e.handleClose,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.closed}},[a("div",{staticClass:"formBox"},[a("div",{staticClass:"formItem"},[a("div",{staticClass:"formName"},[e._v("用户ID:")]),a("div",{staticClass:"inputBox"},[a("el-input",{attrs:{disabled:"add"!==e.status,placeholder:"请输入用户ID"},model:{value:e.user_number,callback:function(t){e.user_number=t},expression:"user_number"}})],1)]),a("div",{staticClass:"formItem"},[a("div",{staticClass:"formName"},[e._v("音色分类名称:")]),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.sound_tag,callback:function(t){e.sound_tag=t},expression:"sound_tag"}},e._l(e.sound_tagList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.sound_tag,value:e.id}})})),1)],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addAnchor},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addAnchor(t)}}},[e._v("添加")])],1)])],1)},l=[],d=a("0472"),m=a("40cb"),p=a("279a"),b={components:{drawer:d["a"],uploadImg:m["a"]},data:function(){return{status:"add",dialogVisible:!1,user_number:null,sound_tag:null,ruleForm:{},rules:{},sexList:p["a"].SEXLIST,sound_tagList:[],card_id:"",id:"",editTitle:"添加心动主播"}},computed:{disabled:function(){return"see"===this.status}},mounted:function(){this.serachTagFunc()},methods:{handleClose:function(){this.dialogVisible=!1},loadParams:function(e,t){if(this.status=e,"upload"==e){this.editTitle="修改心动主播";var a=JSON.parse(JSON.stringify(t));this.user_number=a.user_number,this.sound_tag=a.sound_tag,this.card_id=a.card_id,this.id=a.id,this.dialogVisible=!0}else"add"==e?(this.editTitle="添加心动主播",this.user_number="",this.sound_tag="",this.card_id="",this.dialogVisible=!0):this.openComp()},openComp:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.drawer.loadParams(e)},addAnchor:function(){var e=this;return Object(o["a"])(Object(s["a"])().mark((function t(){var a,r,n;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.user_number){t.next=3;break}return e.$warning("请输入用户ID"),t.abrupt("return",!1);case 3:if(e.sound_tag){t.next=6;break}return e.$warning("请先选择音色分类"),t.abrupt("return");case 6:if(a={user_number:e.user_number,card_id:e.sound_tag},"add"!=e.status){t.next=14;break}return t.next=10,Object(c["a"])(a);case 10:r=t.sent,2e3===r.code&&(e.handleClose(),e.$success("新增成功"),e.user_number="",e.$emit("getList")),t.next=21;break;case 14:if("upload"!=e.status){t.next=21;break}return a.id=e.id,a.card_id=e.sound_tag,t.next=19,Object(c["c"])(a);case 19:n=t.sent,2e3===n.code&&(e.handleClose(),e.$success("修改成功"),e.user_number="",e.$emit("getList"));case 21:case"end":return t.stop()}}),t)})))()},cancel:function(){this.openComp(!1)},closed:function(){this.$emit("destoryComp")},serachTagFunc:function(){var e=this;return Object(o["a"])(Object(s["a"])().mark((function t(){var a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["h"])();case 2:a=t.sent,e.sound_tagList=a.data;case 4:case"end":return t.stop()}}),t)})))()}}},f=b,h=(a("1b1b"),a("2877")),g=Object(h["a"])(f,u,l,!1,null,null,null),v=g.exports,_=a("04a2"),x=a("4053"),w=a("8daa"),k=a("2708"),O={mixins:[k["a"]],components:{SearchPanel:_["a"],tableList:x["a"],anchorComp:v},data:function(){return{sexList:[],sound_tagList:[],isDestoryComp:!1}},computed:{forms:function(){return[{name:"user_number",type:"input",value:"",label:"用户ID",isNum:!0,placeholder:"请输入用户ID"},{name:"sound_tag",type:"select",value:"全部",keyName:"id",optionLabel:"sound_tag",label:"音色分类名",placeholder:"请选择音色分类名",options:this.sound_tagList,clearable:!0},{name:"sex",type:"select",value:"全部",keyName:"value",optionLabel:"name",label:"用户性别",placeholder:"请选择用户性别",options:this.sexList,clearable:!0}]},cfgs:function(){var e=this;return{vm:this,url:w["a"].move.heartAnchor,columns:[{label:"用户ID",prop:"user_number"},{label:"音色分类名",render:function(e,t){return e("span",t.row.sound_tag?t.row.sound_tag:"无")}},{label:"用户昵称",prop:"nickname"},{label:"用户头像",isimg:!0,prop:"face",imgWidth:"50px",imgHeight:"50px"},{label:"用户性别",render:function(e,t){var a=p["a"].SEXLIST.find((function(e){return e.value===t.row.sex}));return e("span",a?a.name:"无")}},{label:"个性签名",showOverFlow:!0,render:function(e,t){return e("span",t.row.autograph||"无")}},{label:"操作",render:function(t,a){return t("div",[t("el-button",{props:{type:"primary"},on:{click:function(){e.editParams(a.row)}}},"编辑"),t("el-button",{props:{type:"danger"},on:{click:function(){e.deleteParams(a.row.user_number)}}},"移除")])}}]}}},methods:{beforeSearch:function(e){var t=Object(i["a"])({},this.searchParams);return{page:e.page,page_size:e.size,user_number:t.user_number,card_id:"全部"==t.sound_tag?"":t.sound_tag,sex:"全部"==t.sex?"":t.sex}},getList:function(){this.$refs.tableList.getData()},reset:function(){this.searchParams={},this.getList()},onSearch:function(){this.getList()},add:function(){this.load("add")},load:function(e,t){var a=this;this.isDestoryComp=!0,setTimeout((function(){a.$refs.addMember.loadParams(e,t)}),50)},destoryComp:function(){this.isDestoryComp=!1},editParams:function(e){this.load("upload",e)},deleteParams:function(e){var t=this;return Object(o["a"])(Object(s["a"])().mark((function a(){return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$confirm("确认移除当前心动主播?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(Object(s["a"])().mark((function a(){var r;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["e"])({user_number:e});case 2:r=a.sent,2e3===r.code&&(t.$success("删除成功"),t.getList());case 4:case"end":return a.stop()}}),a)})))).catch((function(){}));case 1:case"end":return a.stop()}}),a)})))()},serachTagFunc:function(){var e=this;return Object(o["a"])(Object(s["a"])().mark((function t(){var a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["h"])();case 2:a=t.sent,e.sound_tagList=a.data,e.sound_tagList.unshift({sound_tag:"全部",id:0});case 5:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.sexList=JSON.parse(JSON.stringify(p["a"].SEXLIST)),this.sexList.unshift({name:"全部",value:0}),this.serachTagFunc()}},j=O,y=(a("db42"),Object(h["a"])(j,r,n,!1,null,null,null));t["default"]=y.exports},db42:function(e,t,a){"use strict";a("19c9")}}]);