(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a5972c5"],{"0e34":function(t,e,n){"use strict";n("ff8d")},"1fe8":function(t,e,n){t.exports=n.p+"static/img/error.e53687be.png"},2068:function(t,e,n){"use strict";n("5f0e")},2708:function(t,e,n){"use strict";var a=n("4672"),r=n("52c1"),s={data:function(){return{tabIndex:"0",page:1,size:10,limit:10,searchParams:{},dataParams:{}}},computed:Object(a["a"])({},Object(r["c"])({permissionArr:function(t){return t.permission.permissionArr}})),mounted:function(){console.log(this.permissionArr,"permissionArr")}};e["a"]=s},"33c3":function(t,e,n){},"3df3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"guildAudit-guildRebate-list-box"},[n("menuComp",{ref:"menuComp",attrs:{menuList:t.menuList},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}}),n(t.comp,{ref:t.comp,tag:"component"})],1)},r=[],s=n("3923"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"guildRebate-list-box"},[n("div",{staticClass:"model"},[n("span",[t._v("总条数："+t._s(t.ruleForm.count||0))]),n("span",[t._v("流水总计："+t._s((2!==this.form.status?t.ruleForm.all_flow:t.ruleForm.total_flow)||0)+" "),n("el-popover",{attrs:{placement:"bottom",width:"400",trigger:"hover"}},[n("el-table",{attrs:{data:t.gridData}},[n("el-table-column",{attrs:{property:"date",label:"参与统计的房间类型"}}),n("el-table-column",{attrs:{property:"name",label:"不参与统计的房间类型"}})],1),n("i",{staticClass:"icon-hover el-icon-question",attrs:{slot:"reference"},slot:"reference"})],1)],1),n("span",[t._v("结算总计："+t._s((2!==this.form.status?t.ruleForm.all_settlement:t.ruleForm.total_settlement)||0))])]),n("div",{staticClass:"searchParams"},[n("div",{staticClass:"formBox"},[n("div",{staticClass:"sunBox"},[n("span",[t._v("公会")]),n("el-input",{attrs:{placeholder:"请输入公会ID"},model:{value:t.form.guild_number,callback:function(e){t.$set(t.form,"guild_number",e)},expression:"form.guild_number"}})],1),n("div",{staticClass:"sunBox"},[n("span",[t._v("结算状态")]),n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.closeStatusList,(function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),2!==t.form.status?n("div",{staticClass:"sunBox"},[n("span",[t._v("时间")]),n("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp","default-time":["00:00:00","23:59:59"]},on:{change:t.change},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1):t._e(),n("div",{staticClass:"btnBox"},[n("el-button",{staticClass:"seeBox",attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")]),n("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.reset}},[t._v("重置")]),1===t.form.status?n("el-button",{attrs:{type:"success"},on:{click:function(e){return t.batchFunc(1)}}},[t._v("批量通过")]):t._e(),1===t.form.status?n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.batchFunc(2)}}},[t._v("批量忽略")]):t._e(),n("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.BatchRurn()}}},[t._v("导出EXCEL")])],1)])]),n("tableList",{ref:"tableList",attrs:{cfgs:t.cfgs},on:{saleAmunt:t.saleAmunt,handleSizeChange:t.handleSizeChange}})],1)},u=[],o=n("40bd"),c=n("7e8c"),l=n("4672"),m=(n("5250"),n("23dc"),n("8bda"),n("48d4"),n("ee6e"),n("ed70"),n("65c4"),n("9dcb"),n("c24f")),p=n("1a72"),f=n("04a2"),d=n("4053"),h=n("8daa"),b=n("cf45"),_=n("2708"),g=n("279a"),w={name:"guildRebate-list",mixins:[_["a"]],components:{SearchPanel:f["a"],tableList:d["a"]},computed:{cfgs:function(){var t=this,e=2===this.form.status?"guildWeekListV2":"settlementLog",n=[{label:"时间",minWidth:"240px",render:function(e,n){var a=n.row.time_start?Object(b["h"])(n.row.time_start,"YYYY-MM-DD HH:mm:ss",!0):"",r=2===t.form.status?n.row.time_end:n.row.create_time,s=r?Object(b["h"])(r,"YYYY-MM-DD HH:mm:ss",!0):"无";return e("span","".concat(Object(b["h"])(n.row.time_start,"YYYY",!0),"年第").concat(n.row.now,"周（").concat(a,"至").concat(s,"）"))}},{label:"公会ID",minWidth:"100px",prop:"guild_number"},{label:"公会名称",minWidth:"100px",prop:"guild_name"},{label:"公会运营",minWidth:"100px",prop:"operator_name"},{label:"公会长昵称",minWidth:"120px",prop:"guild_owner_nickname"},{label:"公会类型",minWidth:"120px",prop:"guild_type",render:function(t,e){var n=g["a"].GUILDCONFIGTYPELIST.find((function(t){return t.value===e.row.guild_type}));return t("span",n?n.name:"无")}},{label:"流水",minWidth:"130px",render:function(t,e){return t("span",e.row.flow+"钻石")}},{label:"总流水（含冻结）",minWidth:"140px",render:function(t,e){return t("span",e.row.t_flow+"钻石")}},{label:"周返点比例",minWidth:"100px",render:function(t,e){return t("span",e.row.rebate+"%")}},{label:"周返点金额",minWidth:"120px",render:function(t,e){return t("span",e.row.settlement+"喵粮")}},{label:"结算状态",minWidth:"120px",render:function(e,n){var a;return a=1===t.form.status?"待结算":2===t.form.status?"未结算":3===t.form.status?"已结算":"已忽略",e("span",a)}},{label:"结算操作时间",width:"180px",render:function(t,e){return t("span",e.row.op_time?Object(b["h"])(e.row.op_time,"YYYY-MM-DD HH:mm:ss",!0):"-")}},{label:"操作人",render:function(t,e){return t("span",e.row.op_user?e.row.op_user:"-")}}],a=[{label:"操作",minWidth:"180px",fixed:"right",render:function(e,n){return e("div",[e("el-button",{props:{type:"primary"},style:{display:1!==+n.row.resettle?"unset":"none"},on:{click:function(){t.rebateFunc(n.row.id,1)}}},"结算"),e("el-button",{props:{type:"danger"},style:{display:1!==+n.row.resettle?"unset":"none"},on:{click:function(){t.rebateFunc(n.row.id,2)}}},"忽略"),e("el-button",{props:{type:"primary"},style:{display:1===+n.row.resettle?"unset":"none"},on:{click:function(){t.rebateFunc(n.row.id,1)}}},"再次结算")])}}];return{vm:this,url:h["a"].guild[e],isShowCheckbox:1===this.form.status,isShowIndex:!0,columns:1===this.form.status||4===this.form.status?[].concat(n,a):[].concat(n)}}},watch:{"form.status":{handler:function(t,e){1!==e&&3!==e&&4!=e||1!==t&&3!==t&&4!==t||this.getList()},deep:!0}},data:function(){return{guildList:[],closeStatusList:g["a"].GUILDCLOSEANACCOUNTSTATUSLIST,form:{guild_number:"",status:1,time:[],start_time:null,end_time:null},selectList:[],ruleForm:{},dateTimeParams:{start_time:null,end_time:null},page:1,gridData:[{date:"个播",name:"相守、相亲、女神、男神、游戏、点唱、交友、拍拍"}]}},methods:{beforeSearch:function(t){var e=Object(l["a"])(Object(l["a"])({},this.form),this.dateTimeParams),n={page:t?t.page:1,pagesize:t?t.size:10,guild_number:e.guild_number,type:1,status:e.status?e.status:1,start_time:e.time&&e.time.length>0?Math.floor(e.time[0]/1e3):0,end_time:e.time&&e.time.length>0?Math.floor(e.time[1]/1e3):0,guild_type:1};return 1===this.form.status?n.status=0:3===this.form.status?n.status=1:4===this.form.status&&(n.status=2),2===e.status&&(delete n.status,delete n.start_time,delete n.end_time),n},getList:function(){this.$refs.tableList.getData()},reset:function(){this.form={guild_number:"",status:1,time:[],start_time:null,end_time:null},this.page=1,this.getList()},onSearch:function(){this.getList()},change:function(){this.getList()},selectionChange:function(t){this.selectList=t},batchFunc:function(t){var e=this;return Object(c["a"])(Object(o["a"])().mark((function n(){var a;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(e.selectList.length<=0)){n.next=3;break}return e.$warning("请至少选择一条数据"),n.abrupt("return",!1);case 3:a=1==t?"通过":"忽略",e.$confirm("你确定要批量"+a+"此次数据吗？","操作提醒",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(Object(c["a"])(Object(o["a"])().mark((function n(){var a,r;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=[],e.selectList.forEach((function(t){a.push(t.id)})),n.next=4,Object(p["x"])({ids:a,type:1,status:t,guild_type:1});case 4:r=n.sent,2e3===r.code&&e.$success("批量操作成功"),e.getList();case 7:case"end":return n.stop()}}),n)})))).catch((function(){}));case 5:case"end":return n.stop()}}),n)})))()},rebateFunc:function(t,e){var n=this;return Object(c["a"])(Object(o["a"])().mark((function a(){var r;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=1==e?"结算":"忽略",n.$confirm(r+"此次数据吗？","操作提醒",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(Object(c["a"])(Object(o["a"])().mark((function a(){var r,s;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=[t],a.next=3,Object(p["x"])({ids:r,type:1,status:e,guild_type:1});case 3:s=a.sent,2e3===s.code&&n.$success("操作成功"),n.getList();case 6:case"end":return a.stop()}}),a)})))).catch((function(){}));case 2:case"end":return a.stop()}}),a)})))()},saleAmunt:function(t){this.ruleForm=Object(l["a"])({},t),this.page=this.ruleForm.page},handleSizeChange:function(t){this.page=t},guildListFunc:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["i"])();case 2:n=e.sent,n.data.list&&n.data.list.length>0&&(n.data.list.unshift({guild_number:0,nickname:"全部公会"}),t.guildList=n.data.list||[]);case 4:case"end":return e.stop()}}),e)})))()},BatchRurn:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n,a,r,s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.ruleForm.list.length){e.next=3;break}return t.$warning("当前没有数据可以导出"),e.abrupt("return");case 3:if(n=t.beforeSearch(),n.is_all=1,t.page>1&&(n.page=t.page),a={},2!==t.form.status){e.next=13;break}return e.next=10,Object(p["Ab"])(n);case 10:a=e.sent,e.next=16;break;case 13:return e.next=15,Object(p["Yb"])(n);case 15:a=e.sent;case 16:if(r=JSON.parse(JSON.stringify(a.data.list)),!(r.length<=0)){e.next=19;break}return e.abrupt("return",t.$warning("当前没有数据可以导出"));case 19:r=r.map((function(e,n){var a=e.time_start?Object(b["h"])(e.time_start,"YYYY-MM-DD HH:mm:ss",!0):"",r=2===t.form.status?e.time_end:e.create_time,s=r?Object(b["h"])(r,"YYYY-MM-DD HH:mm:ss",!0):"无",i=Object(b["h"])(e.time_start,"YYYY",!0)+"年第"+e.now+"周"+a+"至"+s,u=g["a"].GUILDCONFIGTYPELIST.find((function(t){return t.value===e.guild_type})),o="";o=1===t.form.status?"待结算":2===t.form.status?"未结算":3===t.form.status?"已结算":"已忽略";var c={num:n+1,timer:i,guild_number:e.guild_number,guild_name:e.guild_name,operator_name:e.operator_name,guild_owner_nickname:e.guild_owner_nickname,guild_type:u.name,flow:e.flow+"钻石",t_flow:e.t_flow+"钻石",rebate:e.rebate+"%",settlement:e.settlement+"喵粮",status:o,op_time:e.op_time?JSON.stringify(Object(b["h"])(e.op_time,"YYYY-MM-DD HH:mm:ss",!0)):"-",op_user:e.op_user?e.op_user:"-"};return c})),s=["序号","时间","公会ID","公会名称","公会运营","公会长昵称","公会类型","流水","总流水（含冻结）","周返点比例","周返点金额","结算状态","操作时间","操作人"],Object(b["b"])(r,s,"直播公会周流水结算");case 22:case"end":return e.stop()}}),e)})))()}}},v=w,x=(n("2068"),n("e607")),O=Object(x["a"])(v,i,u,!1,null,null,null),j=O.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"guildRebate-list-box"},[n("div",{staticClass:"model"},[n("span",[t._v("总条数："+t._s(t.ruleForm.count||0))]),n("span",[t._v("流水总计："+t._s((2!==this.form.status?t.ruleForm.all_flow:t.ruleForm.total_flow)||0)+" "),n("el-popover",{attrs:{placement:"bottom",width:"400",trigger:"hover"}},[n("el-table",{attrs:{data:t.gridData}},[n("el-table-column",{attrs:{property:"date",label:"参与统计的房间类型"}}),n("el-table-column",{attrs:{property:"name",label:"不参与统计的房间类型"}})],1),n("i",{staticClass:"icon-hover el-icon-question",attrs:{slot:"reference"},slot:"reference"})],1)],1),n("span",[t._v("结算总计："+t._s((2!==this.form.status?t.ruleForm.all_settlement:t.ruleForm.total_settlement)||0))])]),n("div",{staticClass:"searchParams"},[n("div",{staticClass:"formBox"},[n("div",{staticClass:"sunBox"},[n("span",[t._v("公会")]),n("el-input",{attrs:{placeholder:"请输入公会ID"},model:{value:t.form.guild_number,callback:function(e){t.$set(t.form,"guild_number",e)},expression:"form.guild_number"}})],1),n("div",{staticClass:"sunBox"},[n("span",[t._v("结算状态")]),n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.closeStatusList,(function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),2!==t.form.status?n("div",{staticClass:"sunBox"},[n("span",[t._v("时间")]),n("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp","default-time":["00:00:00","23:59:59"]},on:{change:t.change},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1):t._e(),n("div",{staticClass:"btnBox"},[n("el-button",{staticClass:"seeBox",attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")]),n("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.reset}},[t._v("重置")]),1===t.form.status?n("el-button",{attrs:{type:"success"},on:{click:function(e){return t.batchFunc(1)}}},[t._v("批量通过")]):t._e(),1===t.form.status?n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.batchFunc(2)}}},[t._v("批量忽略")]):t._e(),n("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.BatchRurn()}}},[t._v("导出EXCEL")])],1)])]),n("tableList",{ref:"tableList",attrs:{cfgs:t.cfgs},on:{saleAmunt:t.saleAmunt,handleSizeChange:t.handleSizeChange}})],1)},y=[],k=(n("2f42"),{name:"guildRebate-list",mixins:[_["a"]],components:{SearchPanel:f["a"],tableList:d["a"]},computed:{cfgs:function(){var t=this,e=2===this.form.status?"guildWeekListV2":"settlementLog",n=[{label:"时间",minWidth:"240px",render:function(e,n){var a=n.row.time_start?Object(b["h"])(n.row.time_start,"YYYY-MM-DD HH:mm:ss",!0):"",r=2===t.form.status?n.row.time_end:n.row.create_time,s=r?Object(b["h"])(r,"YYYY-MM-DD HH:mm:ss",!0):"无";return e("span","".concat(Object(b["h"])(n.row.time_start,"YYYY",!0),"年第").concat(Object(b["h"])(a,"MM"),"月（").concat(a,"至").concat(s,"）"))}},{label:"公会ID",minWidth:"100px",prop:"guild_number"},{label:"公会名称",minWidth:"100px",prop:"guild_name"},{label:"公会长昵称",minWidth:"120px",prop:"guild_owner_nickname"},{label:"公会类型",minWidth:"120px",prop:"guild_type",render:function(t,e){var n=g["a"].GUILDCONFIGTYPELIST.find((function(t){return t.value===e.row.guild_type}));return t("span",n?n.name:"无")}},{label:"流水",minWidth:"120px",render:function(t,e){return t("span",e.row.flow+"钻石")}},{label:"总流水（含冻结）",minWidth:"140px",render:function(t,e){return t("span",e.row.t_flow+"钻石")}},{label:"月奖励金额",minWidth:"120px",render:function(e,n){return e("span",2===t.form.status?"无":n.row.settlement+"喵粮")}},{label:"结算状态",minWidth:"120px",render:function(e,n){var a;return a=1===t.form.status?"待结算":2===t.form.status?"未结算":3===t.form.status?"已结算":"已忽略",e("span",a)}},{label:"结算操作时间",width:"180px",render:function(t,e){return t("span",e.row.op_time?Object(b["h"])(e.row.op_time,"YYYY-MM-DD HH:mm:ss",!0):"-")}},{label:"操作人",render:function(t,e){return t("span",e.row.op_user?e.row.op_user:"-")}}],a=[{label:"操作",minWidth:"200px",fixed:"right",render:function(e,n){return e("div",[e("el-button",{props:{type:"primary"},style:{display:1!==+n.row.resettle?"unset":"none"},on:{click:function(){t.rebateFunc(n.row.id,1)}}},"结算"),e("el-button",{props:{type:"danger"},style:{display:1!==+n.row.resettle?"unset":"none"},on:{click:function(){t.rebateFunc(n.row.id,2)}}},"忽略"),e("el-button",{props:{type:"primary"},style:{display:1===+n.row.resettle?"unset":"none"},on:{click:function(){t.rebateFunc(n.row.id,1)}}},"再次结算")])}}];return{vm:this,url:h["a"].guild[e],isShowCheckbox:1===this.form.status,isShowIndex:!0,columns:1===this.form.status||4===this.form.status?[].concat(n,a):[].concat(n)}}},watch:{"form.status":{handler:function(t,e){1!==e&&3!==e&&4!=e||1!==t&&3!==t&&4!==t||this.getList()},deep:!0}},data:function(){return{guildList:[],closeStatusList:g["a"].GUILDCLOSEANACCOUNTSTATUSLIST,form:{guild_number:"",status:1,time:[],start_time:null,end_time:null},selectList:[],ruleForm:{},dateTimeParams:{start_time:null,end_time:null},page:1,gridData:[{date:"个播",name:"相守、女神、男神、游戏、点唱、交友、拍拍、相亲"}]}},methods:{beforeSearch:function(t){var e=Object(l["a"])(Object(l["a"])({},this.form),this.dateTimeParams),n={page:t?t.page:1,pagesize:t?t.size:10,guild_number:e.guild_number,type:3,status:e.status,start_time:e.time&&e.time.length>0?Math.floor(e.time[0]/1e3):0,end_time:e.time&&e.time.length>0?Math.floor(e.time[1]/1e3):0,guild_type:1};return 1===this.form.status?n.status=0:3===this.form.status?n.status=1:4===this.form.status&&(n.status=2),2===e.status&&(delete n.status,delete n.start_time,delete n.end_time),n},getList:function(){this.$refs.tableList.getData()},reset:function(){this.form={guild_number:"",status:1,time:[],start_time:null,end_time:null},this.page=1,this.getList()},onSearch:function(){this.getList()},change:function(){this.getList()},selectionChange:function(t){this.selectList=t},batchFunc:function(t){var e=this;return Object(c["a"])(Object(o["a"])().mark((function n(){var a;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(e.selectList.length<=0)){n.next=3;break}return e.$warning("请至少选择一条数据"),n.abrupt("return",!1);case 3:a=1==t?"通过":"忽略",e.$confirm("你确定要批量"+a+"此次数据吗？","操作提醒",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(Object(c["a"])(Object(o["a"])().mark((function n(){var a,r;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=[],e.selectList.forEach((function(t){a.push(t.id)})),n.next=4,Object(p["x"])({ids:a,type:1,status:t,guild_type:1});case 4:r=n.sent,2e3===r.code&&e.$success("批量操作成功"),e.getList();case 7:case"end":return n.stop()}}),n)})))).catch((function(){}));case 5:case"end":return n.stop()}}),n)})))()},rebateFunc:function(t,e){var n=this;return Object(c["a"])(Object(o["a"])().mark((function a(){var r;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=1==e?"结算":"忽略",n.$confirm(r+"此次数据吗？","操作提醒",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(Object(c["a"])(Object(o["a"])().mark((function a(){var r,s;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=[t],a.next=3,Object(p["x"])({ids:r,type:1,status:e,guild_type:1});case 3:s=a.sent,2e3===s.code&&n.$success("操作成功"),n.getList();case 6:case"end":return a.stop()}}),a)})))).catch((function(){}));case 2:case"end":return a.stop()}}),a)})))()},saleAmunt:function(t){this.ruleForm=Object(l["a"])({},t),this.page=this.ruleForm.page},handleSizeChange:function(t){this.page=t},guildListFunc:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["i"])();case 2:n=e.sent,n.data.list&&n.data.list.length>0&&(n.data.list.unshift({guild_number:0,nickname:"全部公会"}),t.guildList=n.data.list||[]);case 4:case"end":return e.stop()}}),e)})))()},BatchRurn:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n,a,r,s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.ruleForm.list.length){e.next=3;break}return t.$warning("当前没有数据可以导出"),e.abrupt("return");case 3:if(n=t.beforeSearch(),n.is_all=1,t.page>1&&(n.page=t.page),a={},2!==t.form.status){e.next=13;break}return e.next=10,Object(p["Ab"])(n);case 10:a=e.sent,e.next=16;break;case 13:return e.next=15,Object(p["Yb"])(n);case 15:a=e.sent;case 16:if(r=JSON.parse(JSON.stringify(a.data.list)),!(r.length<=0)){e.next=19;break}return e.abrupt("return",t.$warning("当前没有数据可以导出"));case 19:r=r.map((function(e,n){var a=e.time_start?Object(b["h"])(e.time_start,"YYYY-MM-DD HH:mm:ss",!0):"",r=2===t.form.status?e.time_end:e.create_time,s=r?Object(b["h"])(r,"YYYY-MM-DD HH:mm:ss",!0):"无",i=Object(b["h"])(e.time_start,"YYYY",!0)+"年第"+e.now+"周"+a+"至"+s,u=g["a"].GUILDCONFIGTYPELIST.find((function(t){return t.value===e.guild_type})),o="";o=1===t.form.status?"待结算":2===t.form.status?"未结算":3===t.form.status?"已结算":"已忽略";var c={num:n+1,timer:i,guild_number:e.guild_number,guild_name:e.guild_name,guild_owner_nickname:e.guild_owner_nickname,guild_type:u.name,flow:e.flow+"钻石",t_flow:e.t_flow+"钻石",settlement:e.settlement+"喵粮",status:o,op_time:e.op_time?Object(b["h"])(e.op_time,"YYYY-MM-DD HH:mm:ss",!0):"-",op_user:e.op_user?e.op_user:"-"};return c})),s=["序号","时间","公会ID","公会名称","公会长昵称","公会类型","流水","总流水（含冻结）","月奖励金额","结算状态","操作时间","操作人"],Object(b["b"])(r,s,"直播公会月奖励");case 22:case"end":return e.stop()}}),e)})))()}}}),L=k,C=(n("4551"),Object(x["a"])(L,Y,y,!1,null,null,null)),D=C.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"guildRebate-dynamic-box"},[n("div",{staticClass:"model"},[n("span",[t._v("总条数："+t._s(t.ruleForm.count||0))]),n("span",[t._v("流水总计："+t._s((2!==this.form.status?t.ruleForm.all_flow:t.ruleForm.total_flow)||0)+" "),n("el-popover",{attrs:{placement:"bottom",width:"400",trigger:"hover"}},[n("el-table",{attrs:{data:t.gridData}},[n("el-table-column",{attrs:{property:"date",label:"参与统计的房间类型"}}),n("el-table-column",{attrs:{property:"name",label:"不参与统计的房间类型"}})],1),n("i",{staticClass:"icon-hover el-icon-question",attrs:{slot:"reference"},slot:"reference"})],1)],1),n("span",[t._v("结算总计："+t._s((2!==this.form.status?t.ruleForm.all_settlement:t.ruleForm.total_settlement)||0))])]),n("div",{staticClass:"searchParams"},[n("div",{staticClass:"formBox"},[n("div",{staticClass:"sunBox"},[n("span",[t._v("公会")]),n("el-input",{attrs:{placeholder:"请输入公会ID"},model:{value:t.form.guild_number,callback:function(e){t.$set(t.form,"guild_number",e)},expression:"form.guild_number"}})],1),n("div",{staticClass:"sunBox"},[n("span",[t._v("结算状态")]),n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.closeStatusList,(function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),2!==t.form.status?n("div",{staticClass:"sunBox"},[n("span",[t._v("时间")]),n("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp","default-time":["00:00:00","23:59:59"]},on:{change:t.change},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1):t._e(),n("div",{staticClass:"btnBox"},[n("el-button",{staticClass:"seeBox",attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")]),n("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.reset}},[t._v("重置")]),1===t.form.status?n("el-button",{attrs:{type:"success"},on:{click:function(e){return t.batchFunc(1)}}},[t._v("批量通过")]):t._e(),1===t.form.status?n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.batchFunc(2)}}},[t._v("批量忽略")]):t._e(),n("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.BatchRurn()}}},[t._v("导出EXCEL")])],1)])]),n("tableList",{ref:"tableList",attrs:{cfgs:t.cfgs},on:{saleAmunt:t.saleAmunt,handleSizeChange:t.handleSizeChange}})],1)},F=[],M={name:"guildRebate-list",mixins:[_["a"]],components:{SearchPanel:f["a"],tableList:d["a"]},computed:{cfgs:function(){var t=this,e=2===this.form.status?"guildWeekListV2":"settlementLog",n=[{label:"时间",minWidth:"240px",render:function(e,n){var a=n.row.time_start?Object(b["h"])(n.row.time_start,"YYYY-MM-DD HH:mm:ss",!0):"",r=2===t.form.status?n.row.time_end:n.row.create_time,s=r?Object(b["h"])(r,"YYYY-MM-DD HH:mm:ss",!0):"无";return e("span","".concat(Object(b["h"])(n.row.time_start,"YYYY",!0),"年第").concat(n.row.now,"周（").concat(a,"至").concat(s,"）"))}},{label:"公会ID",minWidth:"100px",prop:"guild_number"},{label:"公会名称",minWidth:"100px",prop:"guild_name"},{label:"公会运营",minWidth:"100px",prop:"operator_name"},{label:"公会长昵称",minWidth:"120px",prop:"guild_owner_nickname"},{label:"公会类型",minWidth:"120px",prop:"guild_type",render:function(t,e){var n=g["a"].GUILDCONFIGTYPELIST.find((function(t){return t.value===e.row.guild_type}));return t("span",n?n.name:"无")}},{label:"流水",minWidth:"120px",render:function(e,n){return e("span",(t.form.status,n.row.flow+"钻石"))}},{label:"总流水（含冻结）",minWidth:"140px",render:function(t,e){return t("span",e.row.t_flow+"钻石")}},{label:"周奖励金额",minWidth:"120px",render:function(e,n){return e("span",2===t.form.status?"无":n.row.settlement+"喵粮")}},{label:"结算状态",minWidth:"120px",render:function(e,n){var a;return a=1===t.form.status?"待结算":2===t.form.status?"未结算":3===t.form.status?"已结算":"已忽略",e("span",a)}},{label:"结算操作时间",width:"180px",render:function(t,e){return t("span",e.row.op_time?Object(b["h"])(e.row.op_time,"YYYY-MM-DD HH:mm:ss",!0):"-")}},{label:"操作人",render:function(t,e){return t("span",e.row.op_user?e.row.op_user:"-")}}],a=[{label:"操作",minWidth:"200px",fixed:"right",render:function(e,n){return e("div",[e("el-button",{props:{type:"primary"},style:{display:1!==+n.row.resettle?"unset":"none"},on:{click:function(){t.rebateFunc(n.row.id,1)}}},"结算"),e("el-button",{props:{type:"danger"},style:{display:1!==+n.row.resettle?"unset":"none"},on:{click:function(){t.rebateFunc(n.row.id,2)}}},"忽略"),e("el-button",{props:{type:"primary"},style:{display:1===+n.row.resettle?"unset":"none"},on:{click:function(){t.rebateFunc(n.row.id,1)}}},"再次结算")])}}];return{vm:this,url:h["a"].guild[e],isShowCheckbox:1===this.form.status,isShowIndex:!0,columns:1===this.form.status||4===this.form.status?[].concat(n,a):[].concat(n)}}},data:function(){return{guildList:[],closeStatusList:g["a"].GUILDCLOSEANACCOUNTSTATUSLISTCOPY,form:{guild_number:"",status:1,time:[],start_time:null,end_time:null},selectList:[],ruleForm:{},dateTimeParams:{start_time:null,end_time:null},page:1,gridData:[{date:"个播",name:"相守、拍拍、女神、男神、游戏、点唱、交友、相亲"}]}},watch:{"form.status":{handler:function(t,e){var n=this;1!==e&&3!==e&&4!==e||1!==t&&3!==t&&4!==t||setTimeout((function(){n.getList()}),50)},deep:!0}},methods:{beforeSearch:function(t){var e=Object(l["a"])(Object(l["a"])({},this.form),this.dateTimeParams),n={page:t?t.page:1,pagesize:t?t.size:10,guild_number:e.guild_number,start_time:e.time&&e.time.length>0?Math.floor(e.time[0]/1e3):0,end_time:e.time&&e.time.length>0?Math.floor(e.time[1]/1e3):0,type:2,status:e.status,guild_type:1};return 1===this.form.status?n.status=0:3===this.form.status?n.status=1:4===this.form.status&&(n.status=2),2===e.status&&(delete n.status,delete n.start_time,delete n.end_time),n},getList:function(){this.$refs.tableList.getData()},reset:function(){this.form={guild_number:"",status:1,time:[],start_time:null,end_time:null},this.page=1,this.getList()},onSearch:function(){this.getList()},change:function(){this.getList()},selectionChange:function(t){this.selectList=t},batchFunc:function(t){var e=this;return Object(c["a"])(Object(o["a"])().mark((function n(){var a;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(e.selectList.length<=0)){n.next=3;break}return e.$warning("请至少选择一条数据"),n.abrupt("return",!1);case 3:a=1==t?"通过":"忽略",e.$confirm("你确定要批量"+a+"此次数据吗？","操作提醒",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(Object(c["a"])(Object(o["a"])().mark((function n(){var a,r;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=[],e.selectList.forEach((function(t){a.push(t.id)})),n.next=4,Object(p["x"])({ids:a,type:2,status:t,guild_type:1});case 4:r=n.sent,2e3===r.code&&e.$success("批量操作成功"),e.getList();case 7:case"end":return n.stop()}}),n)})))).catch((function(){}));case 5:case"end":return n.stop()}}),n)})))()},rebateFunc:function(t,e){var n=this;return Object(c["a"])(Object(o["a"])().mark((function a(){var r;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=1==e?"结算":"忽略",n.$confirm(r+"此次数据吗？","操作提醒",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(Object(c["a"])(Object(o["a"])().mark((function a(){var r,s;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=[t],a.next=3,Object(p["x"])({ids:r,type:2,status:e,guild_type:1});case 3:s=a.sent,2e3===s.code&&n.$success("操作成功"),n.getList();case 6:case"end":return a.stop()}}),a)})))).catch((function(){}));case 2:case"end":return a.stop()}}),a)})))()},saleAmunt:function(t){this.ruleForm=Object(l["a"])({},t),this.page=this.ruleForm.page},handleSizeChange:function(t){this.page=t},guildListFunc:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["i"])();case 2:n=e.sent,n.data.list&&n.data.list.length>0&&(n.data.list.unshift({guild_number:0,nickname:"全部公会"}),t.guildList=n.data.list||[]);case 4:case"end":return e.stop()}}),e)})))()},BatchRurn:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n,a,r,s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.ruleForm.list.length){e.next=3;break}return t.$warning("当前没有数据可以导出"),e.abrupt("return");case 3:if(n=t.beforeSearch(),n.is_all=1,t.page>1&&(n.page=t.page),a={},2!==t.form.status){e.next=13;break}return e.next=10,Object(p["Ab"])(n);case 10:a=e.sent,e.next=16;break;case 13:return e.next=15,Object(p["Yb"])(n);case 15:a=e.sent;case 16:if(r=JSON.parse(JSON.stringify(a.data.list)),!(r.length<=0)){e.next=19;break}return e.abrupt("return",t.$warning("当前没有数据可以导出"));case 19:r=r.map((function(e,n){var a=e.time_start?Object(b["h"])(e.time_start,"YYYY-MM-DD HH:mm:ss",!0):"",r=2===t.form.status?e.time_end:e.create_time,s=r?Object(b["h"])(r,"YYYY-MM-DD HH:mm:ss",!0):"无",i=Object(b["h"])(e.time_start,"YYYY",!0)+"年第"+e.now+"周"+a+"至"+s,u=g["a"].GUILDCONFIGTYPELIST.find((function(t){return t.value===e.guild_type})),o="";o=1===t.form.status?"待结算":2===t.form.status?"未结算":3===t.form.status?"已结算":"已忽略";var c={num:n+1,timer:i,guild_number:e.guild_number,guild_name:e.guild_name,operator_name:e.operator_name,guild_owner_nickname:e.guild_owner_nickname,guild_type:u.name,flow:e.flow+"钻石",t_flow:e.t_flow+"钻石",settlement:e.settlement+"喵粮",status:o,op_time:e.op_time?Object(b["h"])(e.op_time,"YYYY-MM-DD HH:mm:ss",!0):"-",op_user:e.op_user?e.op_user:"-"};return c})),s=["序号","时间","公会ID","公会名称","公会运营","公会长昵称","公会类型","流水","总流水（含冻结）","周返点金额","结算状态","操作时间","操作人"],Object(b["b"])(r,s,"直播公会周奖励");case 22:case"end":return e.stop()}}),e)})))()}}},T=M,I=(n("0e34"),Object(x["a"])(T,S,F,!1,null,null,null)),W=I.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"guildRebate-dynamic-box"},[n("div",{staticClass:"model"},[n("span",[t._v("总条数："+t._s(t.ruleForm.count||0))]),n("span",[t._v("流水总计："+t._s((2!==this.form.status?t.ruleForm.all_flow:t.ruleForm.total_flow)||0)+" "),n("el-popover",{attrs:{placement:"bottom",width:"400",trigger:"hover"}},[t._v(" 周有效主播返点：公会本周有效主播人数对应的返点奖励，流水是整个公会直播房间流水的总和。 "),n("i",{staticClass:"icon-hover el-icon-question",attrs:{slot:"reference"},slot:"reference"})])],1),n("span",[t._v("结算总计："+t._s((2!==this.form.status?t.ruleForm.all_settlement:t.ruleForm.total_settlement)||0))])]),n("div",{staticClass:"searchParams"},[n("div",{staticClass:"formBox"},[n("div",{staticClass:"sunBox"},[n("span",[t._v("公会")]),n("el-input",{attrs:{placeholder:"请输入公会ID"},model:{value:t.form.guild_number,callback:function(e){t.$set(t.form,"guild_number",e)},expression:"form.guild_number"}})],1),n("div",{staticClass:"sunBox"},[n("span",[t._v("结算状态")]),n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.closeStatusList,(function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),2!==t.form.status?n("div",{staticClass:"sunBox"},[n("span",[t._v("时间")]),n("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp","default-time":["00:00:00","23:59:59"]},on:{change:t.change},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1):t._e(),n("div",{staticClass:"btnBox"},[n("el-button",{staticClass:"seeBox",attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")]),n("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.reset}},[t._v("重置")]),1===t.form.status?n("el-button",{attrs:{type:"success"},on:{click:function(e){return t.batchFunc(1)}}},[t._v("批量通过")]):t._e(),1===t.form.status?n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.batchFunc(2)}}},[t._v("批量忽略")]):t._e(),n("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.BatchRurn()}}},[t._v("导出EXCEL")])],1)])]),n("tableList",{ref:"tableList",attrs:{cfgs:t.cfgs},on:{saleAmunt:t.saleAmunt,handleSizeChange:t.handleSizeChange}})],1)},B=[],H={name:"guildRebate-list",mixins:[_["a"]],components:{SearchPanel:f["a"],tableList:d["a"]},computed:{cfgs:function(){var t=this,e=2===this.form.status?"guildWeekListV2":"settlementLog",n=[{label:"时间",minWidth:"240px",render:function(e,n){var a=n.row.time_start?Object(b["h"])(n.row.time_start,"YYYY-MM-DD HH:mm:ss",!0):"",r=2===t.form.status?n.row.time_end:n.row.create_time,s=r?Object(b["h"])(r,"YYYY-MM-DD HH:mm:ss",!0):"无";return e("span","".concat(Object(b["h"])(n.row.time_start,"YYYY",!0),"年第").concat(n.row.now,"周（").concat(a,"至").concat(s,"）"))}},{label:"公会ID",minWidth:"100px",prop:"guild_number"},{label:"公会名称",minWidth:"100px",prop:"guild_name"},{label:"公会长昵称",minWidth:"120px",prop:"guild_owner_nickname"},{label:"公会类型",minWidth:"120px",prop:"guild_type",render:function(t,e){var n=g["a"].GUILDCONFIGTYPELIST.find((function(t){return t.value===e.row.guild_type}));return t("span",n?n.name:"无")}},{label:"流水",minWidth:"120px",render:function(e,n){return e("span",(t.form.status,n.row.flow+"钻石"))}},{label:"总流水（含冻结）",minWidth:"150px",render:function(t,e){return t("span",e.row.t_flow+"钻石")}},{label:"有效主播数",minWidth:"120px",headIcon:!0,headConent:"有效主播：一个自然周内，必须直播4天及以上，并且每天必须满2个小时及以上。",render:function(t,e){return t("span",e.row.effective_anchor?e.row.effective_anchor:"无")}},{label:"周奖励金额",minWidth:"120px",render:function(e,n){return e("span",2===t.form.status?"无":n.row.settlement+"喵粮")}},{label:"结算状态",minWidth:"120px",render:function(e,n){var a;return a=1===t.form.status?"待结算":2===t.form.status?"未结算":3===t.form.status?"已结算":"已忽略",e("span",a)}},{label:"结算操作时间",width:"180px",render:function(t,e){return t("span",e.row.op_time?Object(b["h"])(e.row.op_time,"YYYY-MM-DD HH:mm:ss",!0):"-")}},{label:"操作人",render:function(t,e){return t("span",e.row.op_user?e.row.op_user:"-")}}],a=[{label:"操作",minWidth:"200px",fixed:"right",render:function(e,n){return e("div",[e("el-button",{props:{type:"primary"},style:{display:1!==+n.row.resettle?"unset":"none"},on:{click:function(){t.rebateFunc(n.row.id,1)}}},"结算"),e("el-button",{props:{type:"danger"},style:{display:1!==+n.row.resettle?"unset":"none"},on:{click:function(){t.rebateFunc(n.row.id,2)}}},"忽略"),e("el-button",{props:{type:"primary"},style:{display:1===+n.row.resettle?"unset":"none"},on:{click:function(){t.rebateFunc(n.row.id,1)}}},"再次结算")])}}];return{vm:this,url:h["a"].guild[e],isShowCheckbox:1===this.form.status,isShowIndex:!0,columns:1===this.form.status||4===this.form.status?[].concat(n,a):[].concat(n)}}},data:function(){return{guildList:[],closeStatusList:g["a"].GUILDCLOSEANACCOUNTSTATUSLISTCOPY,form:{guild_number:"",status:1,time:[],start_time:null,end_time:null},selectList:[],ruleForm:{},dateTimeParams:{start_time:null,end_time:null},page:1}},watch:{"form.status":{handler:function(t,e){var n=this;1!==e&&3!==e&&4!==e||1!==t&&3!==t&&4!==t||setTimeout((function(){n.getList()}),50)},deep:!0}},methods:{beforeSearch:function(t){var e=Object(l["a"])(Object(l["a"])({},this.form),this.dateTimeParams),n={page:t?t.page:1,pagesize:t?t.size:10,guild_number:e.guild_number,start_time:e.time&&e.time.length>0?Math.floor(e.time[0]/1e3):0,end_time:e.time&&e.time.length>0?Math.floor(e.time[1]/1e3):0,type:5,status:e.status,guild_type:1};return 1===this.form.status?n.status=0:3===this.form.status?n.status=1:4===this.form.status&&(n.status=2),2===e.status&&(delete n.status,delete n.start_time,delete n.end_time),n},getList:function(){this.$refs.tableList.getData()},reset:function(){this.form={guild_number:"",status:1,time:[],start_time:null,end_time:null},this.page=1,this.getList()},onSearch:function(){this.getList()},change:function(){this.getList()},selectionChange:function(t){this.selectList=t},batchFunc:function(t){var e=this;return Object(c["a"])(Object(o["a"])().mark((function n(){var a;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(e.selectList.length<=0)){n.next=3;break}return e.$warning("请至少选择一条数据"),n.abrupt("return",!1);case 3:a=1==t?"通过":"忽略",e.$confirm("你确定要批量"+a+"此次数据吗？","操作提醒",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(Object(c["a"])(Object(o["a"])().mark((function n(){var a,r;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=[],e.selectList.forEach((function(t){a.push(t.id)})),n.next=4,Object(p["x"])({ids:a,type:2,status:t,guild_type:1});case 4:r=n.sent,2e3===r.code&&e.$success("批量操作成功"),e.getList();case 7:case"end":return n.stop()}}),n)})))).catch((function(){}));case 5:case"end":return n.stop()}}),n)})))()},rebateFunc:function(t,e){var n=this;return Object(c["a"])(Object(o["a"])().mark((function a(){var r;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=1==e?"结算":"忽略",n.$confirm(r+"此次数据吗？","操作提醒",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消"}).then(Object(c["a"])(Object(o["a"])().mark((function a(){var r,s;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=[t],a.next=3,Object(p["x"])({ids:r,type:2,status:e,guild_type:1});case 3:s=a.sent,2e3===s.code&&n.$success("操作成功"),n.getList();case 6:case"end":return a.stop()}}),a)})))).catch((function(){}));case 2:case"end":return a.stop()}}),a)})))()},saleAmunt:function(t){this.ruleForm=Object(l["a"])({},t),this.page=this.ruleForm.page},handleSizeChange:function(t){this.page=t},guildListFunc:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["i"])();case 2:n=e.sent,n.data.list&&n.data.list.length>0&&(n.data.list.unshift({guild_number:0,nickname:"全部公会"}),t.guildList=n.data.list||[]);case 4:case"end":return e.stop()}}),e)})))()},BatchRurn:function(){var t=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n,a,r,s;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=t.ruleForm.list.length){e.next=3;break}return t.$warning("当前没有数据可以导出"),e.abrupt("return");case 3:if(n=t.beforeSearch(),n.is_all=1,t.page>1&&(n.page=t.page),a={},2!==t.form.status){e.next=13;break}return e.next=10,Object(p["Ab"])(n);case 10:a=e.sent,e.next=16;break;case 13:return e.next=15,Object(p["Yb"])(n);case 15:a=e.sent;case 16:if(r=JSON.parse(JSON.stringify(a.data.list)),!(r.length<=0)){e.next=19;break}return e.abrupt("return",t.$warning("当前没有数据可以导出"));case 19:r=r.map((function(e,n){var a=e.time_start?Object(b["h"])(e.time_start,"YYYY-MM-DD HH:mm:ss",!0):"",r=2===t.form.status?e.time_end:e.create_time,s=r?Object(b["h"])(r,"YYYY-MM-DD HH:mm:ss",!0):"无",i=Object(b["h"])(e.time_start,"YYYY",!0)+"年第"+e.now+"周"+a+"至"+s,u=g["a"].GUILDCONFIGTYPELIST.find((function(t){return t.value===e.guild_type})),o="";o=1===t.form.status?"待结算":2===t.form.status?"未结算":3===t.form.status?"已结算":"已忽略";var c={num:n+1,timer:i,guild_number:e.guild_number,guild_name:e.guild_name,guild_owner_nickname:e.guild_owner_nickname,guild_type:u.name,flow:e.flow+"钻石",t_flow:e.t_flow+"钻石",settlement:e.settlement+"喵粮",status:o,op_time:e.op_time?JSON.stringify(Object(b["h"])(e.op_time,"YYYY-MM-DD HH:mm:ss",!0)):"-",op_user:e.op_user?e.op_user:"-"};return c})),s=["序号","时间","公会ID","公会名称","公会长昵称","公会类型","流水","总流水（含冻结）","周返点金额","结算状态","操作时间","操作人"],Object(b["b"])(r,s,"直播公会有效直播奖励");case 22:case"end":return e.stop()}}),e)})))()}}},A=H,E=(n("47ffc"),Object(x["a"])(A,$,B,!1,null,null,null)),P=E.exports,N={components:{guildWeekWater:j,guildMonthWater:D,menuComp:s["a"],dynamic:W,effectDynamic:P},computed:{comp:function(){var t="";switch(this.tabIndex){case"0":t="guildWeekWater";break;case"1":t="dynamic";break;case"2":t="guildMonthWater";break;case"3":t="effectDynamic";break;default:break}return t}},data:function(){return{menuList:[{name:"直播公会周流水奖励结算"},{name:"直播公会周奖励结算"},{name:"直播公会月奖励结算"},{name:"直播公会有效直播奖励结算"}],tabIndex:"0"}}},z=N,G=(n("ae74"),Object(x["a"])(z,a,r,!1,null,null,null));e["default"]=G.exports},"44fb":function(t,e,n){},4551:function(t,e,n){"use strict";n("9bd6")},"47ffc":function(t,e,n){"use strict";n("33c3")},"5f0e":function(t,e,n){},"9bd6":function(t,e,n){},ae74:function(t,e,n){"use strict";n("44fb")},ff8d:function(t,e,n){}}]);