(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1562ab3a"],{"1fe8":function(e,t,a){e.exports=a.p+"static/img/error.e53687be.png"},2708:function(e,t,a){"use strict";var n=a("5530"),r=a("2f62"),i={data:function(){return{tabIndex:"0",page:1,size:10,limit:10,searchParams:{},dataParams:{}}},computed:Object(n["a"])({},Object(r["c"])({permissionArr:function(e){return e.permission.permissionArr}})),mounted:function(){console.log(this.permissionArr,"permissionArr")}};t["a"]=i},"58e9":function(e,t,a){},"59d5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticStyle:{display:"flex","margin-bottom":"20px"}},[a("el-button",{on:{click:e.handleBack}},[e._v("返回")])],1),a("div",{staticClass:"searchParams"},[a("SearchPanel",{attrs:{forms:e.forms,"show-reset":!0,"show-search-btn":!0,"show-batch-rurn":!0,batchRurnName:"导出EXCEL"},on:{onReset:e.reset,onSearch:e.onSearch,BatchRurn:e.BatchRurn},model:{value:e.searchParams,callback:function(t){e.searchParams=t},expression:"searchParams"}})],1),a("tableList",{ref:"tableList",attrs:{cfgs:e.cfgs}})],1)},r=[],i=a("c7eb"),o=a("1da1"),u=a("5530"),s=(a("7db0"),a("d3b7"),a("b0c0"),a("b64b"),a("e9c4"),a("d81d"),a("cd05")),c=a("04a2"),l=a("4053"),d=a("e60d"),m=a("8daa"),f=a("cf45"),p=a("2708"),h=a("279a"),b={name:"ReportList",components:{SearchPanel:c["a"],tableList:l["a"],blocked:d["a"]},mixins:[p["a"]],data:function(){return{loadParams:{}}},computed:{forms:function(){var e=this;return[{name:"dateTimeParams",type:"datePicker",dateType:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",label:"申请时间",value:"",linkage:!0,handler:{change:function(t){e.emptyDateTime(),e.setDateTime(t)},selectChange:function(t,a){e.emptyDateTime()}}},{name:"user_number",type:"input",value:"",label:"用户ID",isNum:!0,placeholder:"请输入用户ID"}]},cfgs:function(){var e=this;return{vm:this,isShowIndex:!0,url:m["a"].finance.getBillDetail,columns:[{label:"申请时间",prop:"addtime",minWidth:"120px"},{label:"用户",prop:"nickname",minWidth:"100px"},{label:"用户ID",prop:"user_number",minWidth:"100px"},{label:"用户角色",prop:"is_guild_account",minWidth:"100px",render:function(e,t){return e("span",1===t.row.is_guild_account?"公会长":0===t.row.is_guild_account?"公会成员":"无")}},{label:"喵粮",prop:"gain",minWidth:"100px"},{label:"提现金额",prop:"money",minWidth:"100px",render:function(e,t){return e("span",t.row.money/100)}},{label:"状态",prop:"status",minWidth:"100px",render:function(e,t){console.log(t.row.status);var a=h["a"].STATUSLIST.find((function(e){return e.value===t.row.status}));return e("span",a?a.name:"无")}},{label:"备注",prop:"remark",minWidth:"120px",render:function(e,t){return e("span",t.row.remark||"无")}},{label:"操作",width:"200px",fixed:"right",render:function(t,a){return t("div",[t("el-button",{props:{type:"primary"},style:{display:1===a.row.status?"unset":"none"},on:{click:function(){e.handleAuditReturn(a.row)}}},"审核退回"),t("span",{style:{display:1!==a.row.status?"unset":"none"}},"--")])}}]}}},methods:{reset:function(){this.searchParams={},this.dateTimeParams={},this.getList()},onSearch:function(){this.getList()},beforeSearch:function(e){var t=Object(u["a"])(Object(u["a"])({},this.searchParams),this.dateTimeParams);return{page:e?e.page:null,pagesize:e?e.pagesize:null,user_number:t.user_number,id:this.$route.query.id||"",start_time:Math.floor(t.start_time/1e3)||"",end_time:Math.floor(t.end_time/1e3)||""}},getList:function(){this.$refs.tableList.getData()},handleAuditReturn:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){var n,r,o;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),r={id:t.$route.query.id||"",apply_id:e.id},a.next=4,Object(s["p"])(r);case 4:o=a.sent;try{2e3===o.code&&(t.$message.success("操作成功"),t.getList(),n.close())}catch(i){n.close()}case 6:case"end":return a.stop()}}),a)})))()},setDateTime:function(e){var t=e?{start_time:e[0],end_time:e[1]}:{};this.$set(this,"dateTimeParams",t)},emptyDateTime:function(){this.dateTimeParams={}},BatchRurn:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n,r,o,u;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.beforeSearch(),a.is_all="1",n=e.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),t.next=5,Object(s["h"])(a);case 5:if(r=t.sent,t.prev=6,o=JSON.parse(JSON.stringify(r.data.list)),!(o.length<=0)){t.next=10;break}return t.abrupt("return",e.$warning("当前没有数据可以导出"));case 10:o=o.map((function(e,t){var a=h["a"].STATUSLIST.find((function(t){return t.value===e.status})),n={addtime:e.addtime,nickname:e.nickname,user_number:e.user_number,is_guild_account:1===e.is_guild_account?"公会长":0===e.is_guild_account?"公会成员":"无",gain:e.gain,money:e.money/100||"--",status:a.name,remark:e.remark};return n})),u=["申请时间","用户","用户ID","用户角色","喵粮","提现金额","状态","备注"],Object(f["b"])(o,u,"对公转账明细列表"),n.close(),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](6),console.log(t.t0),n.close();case 20:case"end":return t.stop()}}),t,null,[[6,16]])})))()},handleBack:function(){this.$router.go(-1)}}},g=b,k=a("2877"),y=Object(k["a"])(g,n,r,!1,null,null,null);t["default"]=y.exports},cd05:function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"a",(function(){return u})),a.d(t,"s",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"n",(function(){return l})),a.d(t,"t",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"j",(function(){return f})),a.d(t,"r",(function(){return p})),a.d(t,"b",(function(){return h})),a.d(t,"k",(function(){return b})),a.d(t,"u",(function(){return g})),a.d(t,"o",(function(){return k})),a.d(t,"m",(function(){return y})),a.d(t,"l",(function(){return v})),a.d(t,"i",(function(){return O})),a.d(t,"q",(function(){return j})),a.d(t,"c",(function(){return _})),a.d(t,"p",(function(){return x})),a.d(t,"h",(function(){return w}));var n=a("829b"),r=a("8daa");function i(e){return Object(n["a"])({url:r["a"].CashHisity.doCash,method:"post",data:e})}function o(e){return Object(n["a"])({url:r["a"].CashHisity.apply,method:"post",data:e})}function u(e){return Object(n["a"])({url:r["a"].CashHisity.batchCash,method:"post",data:e})}function s(e){return Object(n["a"])({url:r["a"].pay.uploadFile,method:"post",data:e})}function c(e){return Object(n["a"])({url:r["a"].pay.create,method:"post",data:e})}function l(e){return Object(n["a"])({url:r["a"].pay.payChannelWaySave,method:"post",data:e})}function d(e){return Object(n["a"])({url:r["a"].pay.useCash,method:"post",data:e})}function m(e){return Object(n["a"])({url:r["a"].finance.diamondRechargeAll,method:"post",data:e})}function f(e){return Object(n["a"])({url:r["a"].finance.getCashHisityAll,method:"post",data:e})}function p(e){return Object(n["a"])({url:r["a"].finance.regReplenishmentByCsv,method:"post",data:e})}function h(e){return Object(n["a"])({url:r["a"].finance.changePayStatus,method:"post",data:e})}function b(e){return Object(n["a"])({url:r["a"].finance.getMerchantList,method:"post",data:e})}function g(e){return Object(n["a"])({url:r["a"].finance.getWXMerchantList,method:"post",data:e})}function k(e){return Object(n["a"])({url:r["a"].finance.queryPayStatus,method:"post",data:e})}function y(e){return Object(n["a"])({url:r["a"].diamondRecharge.getQueryPayTask,method:"post",data:e})}function v(e){return Object(n["a"])({url:r["a"].diamondRecharge.getQueryPayDetails,method:"post",data:e})}function O(e){return Object(n["a"])({url:r["a"].finance.getCashDetail,method:"post",data:e})}function j(e){return Object(n["a"])({url:r["a"].finance.refuseCash,method:"post",data:e})}function _(e){return Object(n["a"])({url:r["a"].finance.completeCash,method:"post",data:e})}function x(e){return Object(n["a"])({url:r["a"].finance.refuseApply,method:"post",data:e})}function w(e){return Object(n["a"])({url:r["a"].finance.getBillDetail,method:"post",data:e})}},de4a:function(e,t,a){"use strict";a("58e9")},e60d:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"blocked-box"},[a("el-dialog",{attrs:{title:"封禁",visible:e.dialogVisible,width:"500px","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"封禁时间",prop:"kill_time"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.kill_time,callback:function(t){e.$set(e.ruleForm,"kill_time",t)},expression:"ruleForm.kill_time"}},e._l(e.timerList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"封禁说明",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"正常状态可不填",clearable:""},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},r=[],i=a("c7eb"),o=a("1da1"),u=a("279a"),s={data:function(){return{dialogVisible:!1,timerList:u["a"].DURATION,ruleForm:{kill_time:null,remark:""},rules:{kill_time:[{required:!0,message:"请选择封禁时间",trigger:"change"}],remark:[{required:!0,message:"请填写封禁说明",trigger:"blur"}]}}},methods:{loadParams:function(){this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1},submitForm:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$refs[e].validate(function(){var e=Object(o["a"])(Object(i["a"])().mark((function e(a){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}t.dialogVisible=!1,t.$emit("evaluationFunc",t.ruleForm),e.next=7;break;case 5:return console.log("error submit!!"),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()},cancel:function(){this.dialogVisible=!1,this.$emit("blockedCancel")},resetForm:function(e){this.$refs[e].resetFields()}}},c=s,l=(a("de4a"),a("2877")),d=Object(l["a"])(c,n,r,!1,null,"555e1083",null);t["a"]=d.exports}}]);